

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=&#34;auto&#34;>



<head>
  <meta name="baidu-site-verification" content="code-FX4L05whJB" />
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/Wuhlan3/img/myfavicon.png">
  <link rel="icon" type="image/png" href="/Wuhlan3/img/myfavicon.png">
  <meta name="viewport"
        content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="">
  <meta name="author" content="Wuhlan3">
  <meta name="keywords" content="">
  <title>Goå­¦ä¹ ä¹‹è·¯ - whl&#39;s blog</title>

  <link  rel="stylesheet" href="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.staticfile.org/github-markdown-css/4.0.0/github-markdown.min.css" />
  <link  rel="stylesheet" href="/Wuhlan3/lib/hint/hint.min.css" />

  
    
    
      
      <link  rel="stylesheet" href="https://cdn.staticfile.org/highlight.js/10.0.0/styles/vs2015.min.css" />
    
  

  


<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_pf9vaxs7x7b.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/Wuhlan3/css/main.css" />

<!-- è‡ªå®šä¹‰æ ·å¼ä¿æŒåœ¨æœ€åº•éƒ¨ -->

  
<link rel="stylesheet" href="/Wuhlan3/css/custom.css">



  <script  src="/Wuhlan3/js/utils.js" ></script>
  <script  src="/Wuhlan3/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 5.2.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
</head>


<body>
  <header style="height: 70vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand"
       href="/Wuhlan3/">&nbsp;<strong>Wuhlan3</strong>&nbsp;</a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/Wuhlan3/">
                <i class="iconfont icon-home-fill"></i>
                ä¸»é¡µ
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/Wuhlan3/archives/">
                <i class="iconfont icon-archive-fill"></i>
                å†å²
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/Wuhlan3/tags/">
                <i class="iconfont icon-tags-fill"></i>
                æ ‡ç­¾
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/Wuhlan3/links/">
                <i class="iconfont icon-link-fill"></i>
                å‹é“¾
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/Wuhlan3/about/">
                <i class="iconfont icon-user-fill"></i>
                å…³äº
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" data-toggle="modal" data-target="#modalSearch">&nbsp;<i
                class="iconfont icon-search"></i>&nbsp;</a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" href="javascript:">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner intro-2" id="background" parallax=true
         style="background: url('/Wuhlan3/img/default.png') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="container page-header text-center fade-in-up">
            <span class="h2" id="subtitle">
              
            </span>
			
			
			
            
              <div class="mt-3">
  
    <span class="post-meta mr-2">
      <i class="iconfont icon-author" aria-hidden="true"></i>
      Wuhlan3
    </span>
  
  
    <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2021-10-08 20:20" pubdate>
        October 8, 2021 pm
      </time>
    </span>
  
</div>

<div class="mt-1">
  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      7k å­—
    </span>
  

  
    
    <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      95
       åˆ†é’Ÿ
    </span>
  

  
  
</div>

            
          </div>

          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

<div class="container-fluid">
  <div class="row">
    <div class="d-none d-lg-block col-lg-2"></div>
    <div class="col-lg-8 nopadding-md">
      <div class="container nopadding-md" id="board-ctn">
        <div class="py-5" id="board">
          <article class="post-content mx-auto" id="post">
            <!-- SEO header -->
            <h1 style="display: none">Goå­¦ä¹ ä¹‹è·¯</h1>
            
              <p class="note note-info">
                
                  æœ¬æ–‡æœ€åæ›´æ–°äºï¼š6 months ago
                
              </p>
            
            <div class="markdown-body" id="post-body">
              <h1 id="é›¶ã€å†™åœ¨å‰é¢"><a href="#é›¶ã€å†™åœ¨å‰é¢" class="headerlink" title="é›¶ã€å†™åœ¨å‰é¢"></a>é›¶ã€å†™åœ¨å‰é¢</h1><p>Go è¯­è¨€æœ€ä¸»è¦çš„ç‰¹æ€§ï¼š</p>
<ul>
<li>è‡ªåŠ¨åƒåœ¾å›æ”¶</li>
<li>æ›´ä¸°å¯Œçš„å†…ç½®ç±»å‹</li>
<li>å‡½æ•°å¤šè¿”å›å€¼</li>
<li>é”™è¯¯å¤„ç†</li>
<li>åŒ¿åå‡½æ•°å’Œé—­åŒ…</li>
<li>ç±»å‹å’Œæ¥å£</li>
<li>å¹¶å‘ç¼–ç¨‹</li>
<li>åå°„</li>
<li>è¯­è¨€äº¤äº’æ€§</li>
</ul>
<p>ç”±äºGoå’ŒC/C++åœ¨æœ€åŸºæœ¬çš„è¯­è¨€æ–¹é¢è¿˜æ˜¯ç”±å¾ˆå¤šç±»ä¼¼çš„åœ°æ–¹çš„ï¼Œæ‰€ä»¥æˆ‘åœ¨å­¦ä¹ çš„æ—¶å€™ï¼Œå¯¹å‰é¢çš„éƒ¨åˆ†ä»…ä»…æ˜¯ç®€å•ç•¥è¿‡ã€‚ä¸»è¦æŠ“ä½è¯¥è¯­è¨€æœ€é‡è¦çš„ç‰¹ç‚¹ï¼Œå¦‚åˆ‡ç‰‡ã€æ–¹æ³•ã€æ¥å£ã€goroutineã€é€šé“ç­‰è¿›è¡Œæ·±å…¥å­¦ä¹ </p>
<h1 id="ä¸€ã€åŸºç¡€è¯­æ³•ç¯‡"><a href="#ä¸€ã€åŸºç¡€è¯­æ³•ç¯‡" class="headerlink" title="ä¸€ã€åŸºç¡€è¯­æ³•ç¯‡"></a>ä¸€ã€åŸºç¡€è¯­æ³•ç¯‡</h1><p>æ³¨æ„ï¼Œä¸Cä¸åŒçš„æ˜¯ï¼š</p>
<div class="note note-primary">
            <p>èŠ±æ‹¬å·{ä¸èƒ½å•ç‹¬ç”¨äºä¸€è¡Œ</p>
          </div>
<h2 id="è¡Œåˆ†éš”ç¬¦"><a href="#è¡Œåˆ†éš”ç¬¦" class="headerlink" title="è¡Œåˆ†éš”ç¬¦"></a>è¡Œåˆ†éš”ç¬¦</h2><p>åœ¨Goè¯­è¨€ä¸­ï¼Œä¸éœ€è¦åƒ<code>;</code>è¿›è¡Œè¯­å¥åˆ’åˆ†çš„ã€‚</p>
<div class="hljs"><pre><code class="hljs go">fmt.Println(<span class="hljs-string">"Hello, World!"</span>)
fmt.Println(<span class="hljs-string">"Hello, Wuhlan"</span>)</code></pre></div>
<p>å½“ç„¶ï¼Œå¦‚æœç¡¬æ˜¯è¦å†™åœ¨åŒä¸€è¡Œï¼Œå¯ä»¥ä½¿ç”¨<code>;</code>è¿›è¡Œåˆ’åˆ†ï¼Œä½†ä¸æ¨è</p>
<div class="hljs"><pre><code class="hljs go">fmt.Println(<span class="hljs-string">"Hello, World!"</span>);fmt.Println(<span class="hljs-string">"Hello, Wuhlan"</span>)</code></pre></div>
<h2 id="å˜é‡å£°æ˜æ–¹å¼"><a href="#å˜é‡å£°æ˜æ–¹å¼" class="headerlink" title="å˜é‡å£°æ˜æ–¹å¼"></a>å˜é‡å£°æ˜æ–¹å¼</h2><h4 id="æ–¹æ³•ä¸€ï¼šæŒ‡å®šç±»å‹"><a href="#æ–¹æ³•ä¸€ï¼šæŒ‡å®šç±»å‹" class="headerlink" title="æ–¹æ³•ä¸€ï¼šæŒ‡å®šç±»å‹"></a>æ–¹æ³•ä¸€ï¼šæŒ‡å®šç±»å‹</h4><div class="hljs"><pre><code class="hljs delphi"><span class="hljs-keyword">var</span> identifier <span class="hljs-keyword">type</span></code></pre></div>
<p>å¦‚ï¼š</p>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">var</span> num <span class="hljs-keyword">int</span>
<span class="hljs-keyword">var</span> str <span class="hljs-keyword">string</span></code></pre></div>
<p>å¦‚æœæ²¡æœ‰åˆå§‹åŒ–ï¼Œåˆ™è®¾ä¸ºé›¶å€¼</p>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">var</span> num <span class="hljs-keyword">int</span>            <span class="hljs-comment">// 0</span>
<span class="hljs-keyword">var</span> str <span class="hljs-keyword">string</span>        <span class="hljs-comment">// ""</span>
<span class="hljs-keyword">var</span> b   <span class="hljs-keyword">bool</span>        <span class="hljs-comment">// false</span></code></pre></div>
<p>ä»¥ä¸‹çš„å€¼ï¼Œéƒ½è®¾ä¸º<code>nil</code>ï¼Œç±»ä¼¼äºC/C++ä¸­çš„<code>NULL</code></p>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">var</span> a *<span class="hljs-keyword">int</span>
<span class="hljs-keyword">var</span> a []<span class="hljs-keyword">int</span>
<span class="hljs-keyword">var</span> a <span class="hljs-keyword">map</span>[<span class="hljs-keyword">string</span>] <span class="hljs-keyword">int</span>
<span class="hljs-keyword">var</span> a <span class="hljs-keyword">chan</span> <span class="hljs-keyword">int</span>
<span class="hljs-keyword">var</span> a <span class="hljs-function"><span class="hljs-keyword">func</span><span class="hljs-params">(<span class="hljs-keyword">string</span>)</span> <span class="hljs-title">int</span></span>
<span class="hljs-keyword">var</span> a error <span class="hljs-comment">// error æ˜¯æ¥å£</span></code></pre></div>
<h4 id="æ–¹æ³•äºŒï¼šè‡ªåŠ¨åˆ¤æ–­ç±»å‹"><a href="#æ–¹æ³•äºŒï¼šè‡ªåŠ¨åˆ¤æ–­ç±»å‹" class="headerlink" title="æ–¹æ³•äºŒï¼šè‡ªåŠ¨åˆ¤æ–­ç±»å‹"></a>æ–¹æ³•äºŒï¼šè‡ªåŠ¨åˆ¤æ–­ç±»å‹</h4><div class="hljs"><pre><code class="hljs dart"><span class="hljs-keyword">var</span> <span class="hljs-built_in">num</span> = <span class="hljs-number">1</span></code></pre></div>
<h4 id="æ–¹æ³•ä¸‰ï¼šçœç•¥var"><a href="#æ–¹æ³•ä¸‰ï¼šçœç•¥var" class="headerlink" title="æ–¹æ³•ä¸‰ï¼šçœç•¥var"></a>æ–¹æ³•ä¸‰ï¼šçœç•¥var</h4><p>ä½¿ç”¨<code>:=</code>ï¼Œè¿™æ˜¯ä¸€ä¸ªå£°æ˜è¯­å¥ï¼ˆå·¦ä¾§å¦‚æœæ²¡æœ‰å£°æ˜æ–°çš„å˜é‡ï¼Œå°±äº§ç”Ÿç¼–è¯‘é”™è¯¯ï¼‰</p>
<div class="hljs"><pre><code class="hljs dart"><span class="hljs-keyword">var</span> <span class="hljs-built_in">num</span> <span class="hljs-built_in">int</span> = <span class="hljs-number">1</span>
<span class="hljs-comment">//ç›¸ç­‰äº</span>
<span class="hljs-built_in">num</span> := <span class="hljs-number">1</span></code></pre></div>
<h2 id="æ ¼å¼åŒ–è¾“å‡ºå­—ç¬¦ä¸²"><a href="#æ ¼å¼åŒ–è¾“å‡ºå­—ç¬¦ä¸²" class="headerlink" title="æ ¼å¼åŒ–è¾“å‡ºå­—ç¬¦ä¸²"></a>æ ¼å¼åŒ–è¾“å‡ºå­—ç¬¦ä¸²</h2><ul>
<li><p>ä½¿ç”¨<code>Printf</code></p>
<div class="hljs"><pre><code class="hljs go">fmt.Printf(<span class="hljs-string">"%d,%s"</span>,<span class="hljs-number">666</span>,<span class="hljs-string">"Wuhlan"</span>)</code></pre></div>
</li>
<li><p>ä½¿ç”¨<code>Sprintf</code>å’Œ<code>Println</code></p>
<div class="hljs"><pre><code class="hljs go">    <span class="hljs-keyword">var</span> str = <span class="hljs-string">"%d,%s"</span>
      <span class="hljs-keyword">var</span> num <span class="hljs-keyword">int</span> = <span class="hljs-number">666</span>
      <span class="hljs-keyword">var</span> name <span class="hljs-keyword">string</span> = <span class="hljs-string">"Wuhlan"</span>
      str = fmt.Sprintf(str,num,name)
      fmt.Println(str)
<span class="hljs-comment">/******************************************/</span>
<span class="hljs-comment">//ä¹Ÿå¯ä»¥è¿™æ ·å†™</span>
    <span class="hljs-keyword">var</span> num <span class="hljs-keyword">int</span> = <span class="hljs-number">666</span>
    <span class="hljs-keyword">var</span> name <span class="hljs-keyword">string</span> = <span class="hljs-string">"Wuhlan"</span>
    str := fmt.Sprintf(<span class="hljs-string">"%d,%s"</span>, num, name)
    fmt.Println(str)</code></pre></div>
</li>
</ul>
<h2 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h2><div class="table-container">
<table>
<thead>
<tr>
<th style="text-align:left"></th>
<th style="text-align:left">ç±»å‹å’Œæè¿°</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:left">1</td>
<td style="text-align:left"><strong>å¸ƒå°”å‹</strong> å¸ƒå°”å‹çš„å€¼åªå¯ä»¥æ˜¯å¸¸é‡ true æˆ–è€… falseã€‚ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼švar b bool = trueã€‚</td>
</tr>
<tr>
<td style="text-align:left">2</td>
<td style="text-align:left"><strong>æ•°å­—ç±»å‹</strong> æ•´å‹ int å’Œæµ®ç‚¹å‹ float32ã€float64ç­‰ï¼ŒGo è¯­è¨€æ”¯æŒæ•´å‹å’Œæµ®ç‚¹å‹æ•°å­—ï¼Œå¹¶ä¸”æ”¯æŒå¤æ•°ï¼Œå…¶ä¸­ä½çš„è¿ç®—é‡‡ç”¨è¡¥ç ã€‚</td>
</tr>
<tr>
<td style="text-align:left">3</td>
<td style="text-align:left"><strong>å­—ç¬¦ä¸²ç±»å‹:</strong> å­—ç¬¦ä¸²å°±æ˜¯ä¸€ä¸²å›ºå®šé•¿åº¦çš„å­—ç¬¦è¿æ¥èµ·æ¥çš„å­—ç¬¦åºåˆ—ã€‚Go çš„å­—ç¬¦ä¸²æ˜¯ç”±å•ä¸ªå­—èŠ‚è¿æ¥èµ·æ¥çš„ã€‚Go è¯­è¨€çš„å­—ç¬¦ä¸²çš„å­—èŠ‚ä½¿ç”¨ UTF-8 ç¼–ç æ ‡è¯† Unicode æ–‡æœ¬ã€‚</td>
</tr>
<tr>
<td style="text-align:left">4</td>
<td style="text-align:left"><strong>æ´¾ç”Ÿç±»å‹:</strong> åŒ…æ‹¬ï¼š(a) æŒ‡é’ˆç±»å‹(b) æ•°ç»„ç±»å‹(c) ç»“æ„åŒ–ç±»å‹(d) Channel ç±»å‹(e) å‡½æ•°ç±»å‹(f) åˆ‡ç‰‡ç±»å‹(g) æ¥å£ç±»å‹(h) Map ç±»å‹</td>
</tr>
</tbody>
</table>
</div>
<p>Goæ˜¯ä¸€ä¸ªå¼ºç±»å‹è¯­è¨€ï¼Œæ··åˆnä½¿ç”¨ç±»å‹æ˜¯ä¸å…è®¸çš„ã€‚æ¯”å¦‚ï¼š</p>
<div class="hljs"><pre><code class="hljs c++">package main

<span class="hljs-function">func <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{  
        var defaultName = <span class="hljs-string">"Sam"</span> <span class="hljs-comment">// å…è®¸</span>
        type myString <span class="hljs-built_in">string</span>    <span class="hljs-comment">//è‡ªå®šä¹‰ä¸€ä¸ªmyStringç±»å‹</span>
        var customName myString = <span class="hljs-string">"Sam"</span> <span class="hljs-comment">// å…è®¸</span>
        customName = defaultName <span class="hljs-comment">// ä¸å…è®¸</span>
}</code></pre></div>
<h2 id="å¹¶è¡Œèµ‹å€¼"><a href="#å¹¶è¡Œèµ‹å€¼" class="headerlink" title="å¹¶è¡Œèµ‹å€¼"></a>å¹¶è¡Œèµ‹å€¼</h2><p>è¿™æ˜¯ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„GOè¯­è¨€çš„ç‰¹ç‚¹ã€‚</p>
<p>å¦‚æœæƒ³äº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼ï¼Œæˆ‘ç›¸ä¿¡å¤§éƒ¨åˆ†äººç¬¬ä¸€æ—¶é—´æƒ³åˆ°çš„æ˜¯ä½¿ç”¨ä¸€ä¸ªä¸´æ—¶å˜é‡<code>temp</code>ä½œä¸ºä¸­ä»‹ç»ã€‚ä½†æ˜¯goè¯­è¨€å¹¶ä¸éœ€è¦ï¼Œä½ å¯ä»¥çŒœçŒœä¸‹é¢è¿™æ®µä»£ç ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</p>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">var</span> a <span class="hljs-keyword">int</span> = <span class="hljs-number">1</span>
<span class="hljs-keyword">var</span> b <span class="hljs-keyword">int</span> = <span class="hljs-number">2</span>
a,b = b,a
fmt.Println(a,b)</code></pre></div>
<p>æ²¡é”™ï¼Œaå’Œbç«Ÿç„¶å¯ä»¥ç›´æ¥äº¤æ¢ï¼ï¼ï¼å®ƒæ˜¯é€šè¿‡<strong>å¹¶è¡Œ</strong>çš„æ–¹å¼äº¤æ¢çš„ï¼Œè¿™ç§æ–¹å¼è¿˜å¸¸ç”¨äºå‡½æ•°çš„è¿”å›å€¼ä¸­ã€‚</p>
<p>å¦å¤–ï¼Œæ ¹æ®GOè¯­è¨€çš„ç‰¹ç‚¹ï¼Œæˆ‘ä»¬å¿…é¡»ä½¿ç”¨åˆ°æ‰€æœ‰å£°æ˜çš„å‡½æ•°ï¼Œæ‰€ä»¥ï¼Œå¦‚æœä½ ä¸æƒ³ä½¿ç”¨æŸä¸ªå˜é‡ï¼Œå¯ä»¥ç”¨<code>_</code>æ¥æ›¿ä»£</p>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">var</span> _,b = <span class="hljs-number">2</span>,<span class="hljs-number">3</span>
fmt.Println(b)</code></pre></div>
<h2 id="åˆ†æ”¯è¯­å¥"><a href="#åˆ†æ”¯è¯­å¥" class="headerlink" title="åˆ†æ”¯è¯­å¥"></a>åˆ†æ”¯è¯­å¥</h2><p><code>if-else</code>æ³¨æ„çš„ç‚¹å¦‚ä¸‹ï¼š</p>
<ul>
<li>åˆ†æ”¯åˆ¤æ–­æ¡ä»¶å¯ä»¥ä¸ä½¿ç”¨<code>()</code>ï¼Œå½“ç„¶ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨</li>
<li>èŠ±æ‹¬å·å¿…é¡»ä¸<code>if</code>æˆ–<code>else</code>åœ¨åŒä¸€è¡Œ</li>
<li>æ— è®ºæœ‰å‡ æ¡æ¡ä»¶è¯­å¥ï¼Œå·¦å³ <code>{}</code>èŠ±æ‹¬å·ä¸èƒ½çœç•¥</li>
</ul>
<div class="note note-primary">
            <p>GOè¯­è¨€æ²¡æœ‰ä¸‰ç›®è¿ç®—ç¬¦<code>? :</code></p>
          </div>
<p><code>switch-case</code>æ³¨æ„çš„ç‚¹å¦‚ä¸‹ï¼š</p>
<ul>
<li><p>æ”¯æŒå¤šæ¡ä»¶åŒ¹é…</p>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">switch</span>{
   <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>:
   <span class="hljs-keyword">default</span>:
}</code></pre></div>
</li>
<li><p>ä¸åŒçš„ case ä¹‹é—´ä¸ä½¿ç”¨ break åˆ†éš”ï¼Œé»˜è®¤åªä¼šæ‰§è¡Œä¸€ä¸ª caseã€‚</p>
</li>
<li><p>å¦‚æœæƒ³è¦æ‰§è¡Œå¤šä¸ª caseï¼Œéœ€è¦ä½¿ç”¨ fallthrough å…³é”®å­—ï¼Œä¹Ÿå¯ç”¨ break ç»ˆæ­¢ã€‚</p>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">switch</span>{
    <span class="hljs-keyword">case</span> <span class="hljs-number">1</span>:
    ...
    <span class="hljs-keyword">if</span>(...){
        <span class="hljs-keyword">break</span>
    }

    <span class="hljs-keyword">fallthrough</span> <span class="hljs-comment">// æ­¤æ—¶switch(1)ä¼šæ‰§è¡Œcase1å’Œcase2ï¼Œä½†æ˜¯å¦‚æœæ»¡è¶³ifæ¡ä»¶ï¼Œåˆ™åªæ‰§è¡Œcase 1</span>

    <span class="hljs-keyword">case</span> <span class="hljs-number">2</span>:
    ...
    <span class="hljs-keyword">case</span> <span class="hljs-number">3</span>:
}</code></pre></div>
</li>
<li><p>æ²¡æœ‰<code>switch</code>çš„switchï¼Œé»˜è®¤<code>switch(true)</code>ï¼Œè¿™ç§å½¢å¼èƒ½å°†ä¸€é•¿ä¸²<code>if-then-else</code>å†™å¾—æ›´åŠ æ¸…æ™°ã€‚</p>
</li>
</ul>
<h2 id="å¾ªç¯è¯­å¥"><a href="#å¾ªç¯è¯­å¥" class="headerlink" title="å¾ªç¯è¯­å¥"></a>å¾ªç¯è¯­å¥</h2><p>ä¸€èˆ¬æƒ…å†µæ³¨æ„çš„ç‚¹å¦‚ä¸‹ï¼š</p>
<ul>
<li>åˆå§‹åŒ–è¯­å¥å’Œåç½®è¯­å¥æ˜¯å¯é€‰çš„ã€‚æ¯”å¦‚ï¼š<code>for ;i&lt;100;{}</code></li>
<li>Goä¸­æ²¡æœ‰whileï¼Œå°†forä¸­çš„<code>;</code>å»æ‰ï¼Œä¾¿ç›¸å½“äºwhile</li>
<li>æ— é™å¾ªç¯è¿˜å¯ä»¥ç›´æ¥çœç•¥æ‰æ¡ä»¶ï¼Œå†™æˆ<code>for{}</code></li>
</ul>
<p><code>for-each range</code>å¯ä»¥å¯¹æ•°ç»„å’Œåˆ‡ç‰‡è¿›è¡Œè¿­ä»£ï¼š</p>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main
<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
        strings := []<span class="hljs-keyword">string</span>{<span class="hljs-string">"Wuhlan"</span>, <span class="hljs-string">"miaomiaomiao"</span>}
        <span class="hljs-keyword">for</span> i, s := <span class="hljs-keyword">range</span> strings {
                fmt.Println(i, s)
        }
        numbers := [<span class="hljs-number">6</span>]<span class="hljs-keyword">int</span>{<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">5</span>}
        <span class="hljs-keyword">for</span> i,x:= <span class="hljs-keyword">range</span> numbers {
                fmt.Printf(<span class="hljs-string">"ç¬¬ %d ä½ x çš„å€¼ = %d\n"</span>, i,x)
        }  
}</code></pre></div>
<p>è¾“å‡ºå¦‚ä¸‹ï¼š</p>
<div class="hljs"><pre><code class="hljs angelscript"><span class="hljs-number">0</span> Wuhlan
<span class="hljs-number">1</span> miaomiaomiao
ç¬¬ <span class="hljs-number">0</span> ä½ x çš„å€¼ = <span class="hljs-number">1</span>
ç¬¬ <span class="hljs-number">1</span> ä½ x çš„å€¼ = <span class="hljs-number">2</span>
ç¬¬ <span class="hljs-number">2</span> ä½ x çš„å€¼ = <span class="hljs-number">3</span>
ç¬¬ <span class="hljs-number">3</span> ä½ x çš„å€¼ = <span class="hljs-number">5</span>
ç¬¬ <span class="hljs-number">4</span> ä½ x çš„å€¼ = <span class="hljs-number">0</span>
ç¬¬ <span class="hljs-number">5</span> ä½ x çš„å€¼ = <span class="hljs-number">0</span></code></pre></div>
<h2 id="deferè¯­å¥"><a href="#deferè¯­å¥" class="headerlink" title="deferè¯­å¥"></a>deferè¯­å¥</h2><p>defer è¯­å¥ä¼šå°†å‡½æ•°æ¨è¿Ÿåˆ°å¤–å±‚å‡½æ•°è¿”å›ä¹‹åæ‰§è¡Œã€‚</p>
<p>æ¨è¿Ÿè°ƒç”¨çš„å‡½æ•°å…¶å‚æ•°ä¼šç«‹å³æ±‚å€¼ï¼Œä½†ç›´åˆ°å¤–å±‚å‡½æ•°è¿”å›å‰è¯¥å‡½æ•°éƒ½ä¸ä¼šè¢«è°ƒç”¨ã€‚</p>
<p>æ¨è¿Ÿçš„å‡½æ•°è°ƒç”¨ä¼šè¢«å‹å…¥ä¸€ä¸ªæ ˆä¸­ã€‚å½“å¤–å±‚å‡½æ•°è¿”å›æ—¶ï¼Œè¢«æ¨è¿Ÿçš„å‡½æ•°ä¼šæŒ‰ç…§åè¿›å…ˆå‡ºçš„é¡ºåºè°ƒç”¨ã€‚</p>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    fmt.Println(<span class="hljs-string">"counting"</span>)

    <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++ {
        <span class="hljs-keyword">defer</span> fmt.Println(i)
    }

    fmt.Println(<span class="hljs-string">"done"</span>)
}</code></pre></div>
<p>è¾“å‡ºï¼š</p>
<div class="hljs"><pre><code class="hljs go">counting
done
<span class="hljs-number">9</span>
<span class="hljs-number">8</span>
<span class="hljs-number">7</span>
<span class="hljs-number">6</span>
<span class="hljs-number">5</span>
<span class="hljs-number">4</span>
<span class="hljs-number">3</span>
<span class="hljs-number">2</span>
<span class="hljs-number">1</span>
<span class="hljs-number">0</span></code></pre></div>
<h2 id="å‡½æ•°"><a href="#å‡½æ•°" class="headerlink" title="å‡½æ•°"></a>å‡½æ•°</h2><p>å‡½æ•°å®šä¹‰æ–¹å¼ï¼š</p>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> å‡½æ•°å<span class="hljs-params">([å‚æ•°åˆ—è¡¨])</span> [è¿”å›å€¼åˆ—è¡¨]</span> {
   å‡½æ•°ä½“
}</code></pre></div>
<h3 id="åŸºæœ¬çš„å‡½æ•°"><a href="#åŸºæœ¬çš„å‡½æ•°" class="headerlink" title="åŸºæœ¬çš„å‡½æ•°"></a>åŸºæœ¬çš„å‡½æ•°</h3><p>ä¸€ä¸ªç®€å•çš„åŠ æ³•å‡½æ•°ï¼š</p>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main
<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">add</span><span class="hljs-params">(a,b <span class="hljs-keyword">int</span>)</span> <span class="hljs-title">int</span></span> {
    <span class="hljs-keyword">return</span> a + b
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">var</span> a = <span class="hljs-number">6</span>
    <span class="hljs-keyword">var</span> b = <span class="hljs-number">7</span>
        fmt.Println(add(a,b))
}</code></pre></div>
<h3 id="å¤šè¿”å›å€¼å‡½æ•°"><a href="#å¤šè¿”å›å€¼å‡½æ•°" class="headerlink" title="å¤šè¿”å›å€¼å‡½æ•°"></a>å¤šè¿”å›å€¼å‡½æ•°</h3><p>è¿”å›å¤šä¸ªå€¼çš„å‡½æ•°ï¼ˆéšä¾¿å†™çš„ï¼Œå†™çš„å¾ˆçˆ½å˜¿å˜¿<span class="github-emoji"><span>ğŸ˜‹</span><img src="https://github.githubassets.com/images/icons/emoji/unicode/1f60b.png?v8" srcset="/Wuhlan3/img/loading.gif" aria-hidden="true" onerror="this.parent.classList.add('github-emoji-fallback')"></span>ï¼‰</p>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main
<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">add</span><span class="hljs-params">(a,b <span class="hljs-keyword">int</span>)</span> <span class="hljs-params">(<span class="hljs-keyword">int</span>,<span class="hljs-keyword">int</span>)</span></span> {
    a,b = b+b,a+a
    <span class="hljs-keyword">return</span> a , b
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">var</span> a = <span class="hljs-number">6</span>
    <span class="hljs-keyword">var</span> b = <span class="hljs-number">7</span>
        fmt.Println(add(a,b))
}</code></pre></div>
<p>è¾“å‡ºï¼š</p>
<div class="hljs"><pre><code class="hljs basic"><span class="hljs-symbol">14 </span><span class="hljs-number">12</span></code></pre></div>
<p>æœ‰çš„æ—¶å€™æˆ‘ä»¬å¯èƒ½å¹¶ä¸éœ€è¦å¤šä¸ªè¿”å›å€¼ä¸­çš„æŸå‡ ä¸ªå€¼ï¼Œå¯ä»¥ä½¿ç”¨<strong>ç©ºç™½ç¬¦</strong></p>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">add</span><span class="hljs-params">(a, b <span class="hljs-keyword">int</span>)</span> <span class="hljs-params">(<span class="hljs-keyword">int</span>, <span class="hljs-keyword">int</span>)</span></span> {
    a, b = b+b, a+a
    <span class="hljs-keyword">return</span> a, b
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">var</span> a = <span class="hljs-number">6</span>
    <span class="hljs-keyword">var</span> b = <span class="hljs-number">7</span>
    c, _ := add(a, b)        <span class="hljs-comment">//ä½¿ç”¨ç©ºç™½ç¬¦æ¥æ¥æ”¶ä¸æƒ³è¦çš„å€¼</span>
    fmt.Println(c)
}</code></pre></div>
<h3 id="å‘½åè¿”å›å€¼"><a href="#å‘½åè¿”å›å€¼" class="headerlink" title="å‘½åè¿”å›å€¼"></a>å‘½åè¿”å›å€¼</h3><p>ä»å‡½æ•°ä¸­å¯ä»¥è¿”å›ä¸€ä¸ªå‘½åå€¼ã€‚ä¸€æ—¦å‘½åäº†è¿”å›å€¼ï¼Œå¯ä»¥è®¤ä¸ºè¿™äº›å€¼åœ¨å‡½æ•°ç¬¬ä¸€è¡Œå°±è¢«å£°æ˜ä¸ºå˜é‡äº†ã€‚</p>
<p>æˆ‘ä»¬ç¨å¾®å¯¹ä¸Šé¢çš„ä¾‹å­è¿›è¡Œä¿®æ”¹ï¼š</p>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">add</span><span class="hljs-params">(a, b <span class="hljs-keyword">int</span>)</span> <span class="hljs-params">(ret1, ret2 <span class="hljs-keyword">int</span>)</span></span> {
    ret1, ret2 = b+b, a+a
    <span class="hljs-keyword">return</span>
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">var</span> a = <span class="hljs-number">6</span>
    <span class="hljs-keyword">var</span> b = <span class="hljs-number">7</span>
    fmt.Println(add(a, b))
}</code></pre></div>
<h1 id="äºŒã€è¿›é˜¶è¯­æ³•ç¯‡"><a href="#äºŒã€è¿›é˜¶è¯­æ³•ç¯‡" class="headerlink" title="äºŒã€è¿›é˜¶è¯­æ³•ç¯‡"></a>äºŒã€è¿›é˜¶è¯­æ³•ç¯‡</h1><p>å…¶å®æ˜¯åŸºç¡€çš„å¤ªå¤šäº†ï¼Œç”¨è¿™ä¸ªæ¥åˆ’åˆ†ä¸€ä¸‹ã€‚ä¸‹é¢çš„è¿˜æ˜¯å¾ˆåŸºç¡€å–”ï¼</p>
<h2 id="åŒ…"><a href="#åŒ…" class="headerlink" title="åŒ…"></a>åŒ…</h2><h3 id="åŸºæœ¬ç¼–è¯‘ä¸è¿è¡Œ"><a href="#åŸºæœ¬ç¼–è¯‘ä¸è¿è¡Œ" class="headerlink" title="åŸºæœ¬ç¼–è¯‘ä¸è¿è¡Œ"></a>åŸºæœ¬ç¼–è¯‘ä¸è¿è¡Œ</h3><div class="hljs"><pre><code class="hljs go"><span class="hljs-comment">// geometry.go</span>
<span class="hljs-keyword">package</span> main     <span class="hljs-comment">//æŒ‡å®šè¯¥æ–‡ä»¶å±äºmainåŒ…</span>

<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span>    <span class="hljs-comment">//å¯¼å…¥ä¸€ä¸ªå·²å­˜åœ¨çš„åŒ…</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {  
    fmt.Println(<span class="hljs-string">"Geometrical shape properties"</span>)
}</code></pre></div>
<p>åœ¨æ‰§è¡Œ<code>go install geometry</code>ä¹‹åï¼Œä¼šåœ¨<code>bin</code>æ–‡ä»¶å¤¹é‡Œç”Ÿæˆä¸€ä¸ª<code>geometry.exe</code></p>
<p>ç»“æ„å¦‚ä¸‹ï¼š</p>
<div class="hljs"><pre><code class="hljs css"><span class="hljs-selector-tag">src</span>
    <span class="hljs-selector-tag">geometry</span>æ–‡ä»¶å¤¹
        <span class="hljs-selector-tag">gemometry</span><span class="hljs-selector-class">.go</span>
<span class="hljs-selector-tag">bin</span>
    <span class="hljs-selector-tag">geometry</span><span class="hljs-selector-class">.exe</span></code></pre></div>
<h3 id="è°ƒç”¨è‡ªå®šä¹‰åŒ…"><a href="#è°ƒç”¨è‡ªå®šä¹‰åŒ…" class="headerlink" title="è°ƒç”¨è‡ªå®šä¹‰åŒ…"></a>è°ƒç”¨è‡ªå®šä¹‰åŒ…</h3><p>æ–‡ä»¶å¤¹ç»“æ„å¦‚ä¸‹ï¼š</p>
<div class="hljs"><pre><code class="hljs maxima">src
    geometry
        geometry.<span class="hljs-built_in">go</span>
        <span class="hljs-built_in">rectangle</span>
            rectprops.<span class="hljs-built_in">go</span></code></pre></div>
<p>rectprops.goå¦‚ä¸‹ï¼š</p>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-comment">// rectprops.go</span>
<span class="hljs-keyword">package</span> rectangle

<span class="hljs-keyword">import</span> <span class="hljs-string">"math"</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Area</span><span class="hljs-params">(<span class="hljs-built_in">len</span>, wid <span class="hljs-keyword">float64</span>)</span> <span class="hljs-title">float64</span></span> {
    area := <span class="hljs-built_in">len</span> * wid
    <span class="hljs-keyword">return</span> area
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">Diagonal</span><span class="hljs-params">(<span class="hljs-built_in">len</span>, wid <span class="hljs-keyword">float64</span>)</span> <span class="hljs-title">float64</span></span> {
    diagonal := math.Sqrt((<span class="hljs-built_in">len</span> * <span class="hljs-built_in">len</span>) + (wid * wid))
    <span class="hljs-keyword">return</span> diagonal
}</code></pre></div>
<p>å¯ä»¥çœ‹åˆ°ï¼ŒrectangleåŒ…é‡Œçš„å‡½æ•°éƒ½æ˜¯é¦–å­—æ¯å¤§å†™çš„ã€‚åœ¨Goä¸­ï¼Œä»»ä½•ä»¥<strong>å¤§å†™å­—æ¯</strong>å¼€å¤´çš„å˜é‡æˆ–è€…å‡½æ•°éƒ½æ˜¯<strong>è¢«å¯¼å‡ºçš„å˜é‡å/å‡½æ•°å</strong>ã€‚åªæœ‰è¿™äº›åå­—æ‰å¯ä»¥åœ¨mainåŒ…ä¸­è¿›è¡Œè®¿é—®ã€‚</p>
<h3 id="initå‡½æ•°"><a href="#initå‡½æ•°" class="headerlink" title="initå‡½æ•°"></a>initå‡½æ•°</h3><p>æ¯ä¸€ä¸ªåŒ…é‡Œéƒ½å¯ä»¥åŒ…å«ä¸€ä¸ªinitå‡½æ•°ã€‚æ˜¯åœ¨ä¸€ä¸ªåŒ…åˆå§‹åŒ–çš„æ—¶å€™è‡ªåŠ¨è¿è¡Œçš„ã€‚</p>
<div class="hljs"><pre><code class="hljs c++"><span class="hljs-comment">// geometry.go</span>
package main

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"fmt"</span>
    <span class="hljs-string">"geometry/rectangle"</span> <span class="hljs-comment">// å¯¼å…¥è‡ªå®šä¹‰åŒ…</span>
    <span class="hljs-string">"log"</span>
)

<span class="hljs-comment">/*</span>
<span class="hljs-comment"> * 1. åŒ…çº§åˆ«å˜é‡</span>
<span class="hljs-comment"> */</span>
var rectLen, rectWidth float64 = <span class="hljs-number">6</span>, <span class="hljs-number">7</span>

<span class="hljs-comment">/*</span>
<span class="hljs-comment">*2. init å‡½æ•°ä¼šæ£€æŸ¥é•¿å’Œå®½æ˜¯å¦å¤§äº0</span>
<span class="hljs-comment"> */</span>
func init() {
    println(<span class="hljs-string">"main package initialized"</span>)
    <span class="hljs-keyword">if</span> rectLen &lt; <span class="hljs-number">0</span> {
        <span class="hljs-built_in">log</span>.Fatal(<span class="hljs-string">"length is less than zero"</span>)
    }
    <span class="hljs-keyword">if</span> rectWidth &lt; <span class="hljs-number">0</span> {
        <span class="hljs-built_in">log</span>.Fatal(<span class="hljs-string">"width is less than zero"</span>)
    }
}

func main() {
    fmt.Println(<span class="hljs-string">"Geometrical shape properties"</span>)
    fmt.Printf(<span class="hljs-string">"area of rectangle %.2f\n"</span>, rectangle.Area(rectLen, rectWidth))
    fmt.Printf(<span class="hljs-string">"diagonal of the rectangle %.2f "</span>, rectangle.Diagonal(rectLen, rectWidth))
}</code></pre></div>
<p>å¦‚æœå°†<code>rectLen</code>å°†æ”¹ä¸º-6ã€‚åˆ™ä¼šæœ‰æ—¥å¿—æŠ¥é”™ï¼š</p>
<div class="hljs"><pre><code class="hljs cmd">PS E:\go\src&gt; go run geometry    
main package initialized
<span class="hljs-number">2021</span>/<span class="hljs-number">10</span>/<span class="hljs-number">09</span> <span class="hljs-number">14</span>:<span class="hljs-number">28</span>:<span class="hljs-number">40</span> length is less than zero
<span class="hljs-keyword">exit</span> status <span class="hljs-number">1</span></code></pre></div>
<h3 id="å¯¼å…¥åŒ…è€Œä¸ä½¿ç”¨"><a href="#å¯¼å…¥åŒ…è€Œä¸ä½¿ç”¨" class="headerlink" title="å¯¼å…¥åŒ…è€Œä¸ä½¿ç”¨"></a>å¯¼å…¥åŒ…è€Œä¸ä½¿ç”¨</h3><p>ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¯¼å…¥æŸä¸ªåŒ…è€Œä¸ä½¿ç”¨å®ƒï¼Œå°†ä¼šæŠ¥é”™ã€‚æœ‰ä¸¤ç§æ–¹æ³•å¯ä»¥å…ˆå¯¼å…¥è€Œæš‚ä¸ä½¿ç”¨ï¼š</p>
<p><strong>1.ä½¿ç”¨é”™è¯¯å±è”½å™¨</strong></p>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (  
    <span class="hljs-string">"geometry/rectangle"</span> 
)

<span class="hljs-keyword">var</span> _ = rectangle.Area <span class="hljs-comment">// é”™è¯¯å±è”½å™¨</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {

}</code></pre></div>
<p><strong>2.ä½¿ç”¨ç©ºç™½æ ‡è¯†ç¬¦</strong></p>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main 

<span class="hljs-keyword">import</span> (
    _ <span class="hljs-string">"geometry/rectangle"</span> 
)
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {

}</code></pre></div>
<h2 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h2><p>åˆå§‹åŒ–</p>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">var</span> arr = [<span class="hljs-number">5</span>]<span class="hljs-keyword">float32</span>{<span class="hljs-number">1000.0</span>, <span class="hljs-number">2.0</span>, <span class="hljs-number">3.4</span>, <span class="hljs-number">7.0</span>, <span class="hljs-number">50.0</span>}</code></pre></div>
<p>å¿«é€Ÿåˆå§‹åŒ–æ•°ç»„ï¼š</p>
<div class="hljs"><pre><code class="hljs go">arr := [<span class="hljs-number">5</span>]<span class="hljs-keyword">float32</span>{<span class="hljs-number">1000.0</span>, <span class="hljs-number">2.0</span>, <span class="hljs-number">3.4</span>, <span class="hljs-number">7.0</span>, <span class="hljs-number">50.0</span>}</code></pre></div>
<p>é•¿åº¦ä¸ç¡®å®šæ—¶ï¼š</p>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">var</span> arr = [...]<span class="hljs-keyword">float32</span>{<span class="hljs-number">1000.0</span>, <span class="hljs-number">2.0</span>, <span class="hljs-number">3.4</span>, <span class="hljs-number">7.0</span>, <span class="hljs-number">50.0</span>}
æˆ–
arr := [...]<span class="hljs-keyword">float32</span>{<span class="hljs-number">1000.0</span>, <span class="hljs-number">2.0</span>, <span class="hljs-number">3.4</span>, <span class="hljs-number">7.0</span>, <span class="hljs-number">50.0</span>}</code></pre></div>
<p>ä½¿ç”¨ä¸‹æ ‡æ¥åˆå§‹åŒ–å…ƒç´ ï¼š</p>
<div class="hljs"><pre><code class="hljs go">balance := [<span class="hljs-number">5</span>]<span class="hljs-keyword">float32</span>{<span class="hljs-number">1</span>:<span class="hljs-number">2.0</span>,<span class="hljs-number">3</span>:<span class="hljs-number">7.0</span>}</code></pre></div>
<h2 id="æŒ‡é’ˆ"><a href="#æŒ‡é’ˆ" class="headerlink" title="æŒ‡é’ˆ"></a>æŒ‡é’ˆ</h2><p>ä¸Cç±»ä¼¼ï¼Œéœ€è¦æ³¨æ„çš„æœ‰ä¸¤ç‚¹ï¼š</p>
<ul>
<li><code>* int</code>ï¼Œè¿™æ˜¯åè¿‡æ¥çš„ï¼ï¼ï¼</li>
<li>ç©ºæŒ‡é’ˆï¼Œ<code>nil</code></li>
<li>Goå¹¶ä¸æ”¯æŒæŒ‡é’ˆè¿ç®—ã€‚æ¯”å¦‚è¯´å¦‚æœpæ˜¯ä¸€ä¸ªæŒ‡é’ˆï¼Œ<code>p++</code>æ˜¯ä¸è¢«å…è®¸çš„ã€‚</li>
</ul>
<h2 id="åˆ‡ç‰‡"><a href="#åˆ‡ç‰‡" class="headerlink" title="åˆ‡ç‰‡"></a>åˆ‡ç‰‡</h2><p>Go è¯­è¨€åˆ‡ç‰‡æ˜¯å¯¹æ•°ç»„çš„æŠ½è±¡ã€‚åˆ‡ç‰‡æœ¬èº«ä¸æ‹¥æœ‰ä»»ä½•æ•°æ®ã€‚å®ƒä»¬åªæ˜¯å¯¹ç°æœ‰æ•°ç»„çš„å¼•ç”¨ã€‚</p>
<p>Go æ•°ç»„çš„é•¿åº¦ä¸å¯æ”¹å˜ï¼Œåœ¨ç‰¹å®šåœºæ™¯ä¸­è¿™æ ·çš„é›†åˆå°±ä¸å¤ªé€‚ç”¨ï¼ŒGo ä¸­æä¾›äº†ä¸€ç§çµæ´»ï¼ŒåŠŸèƒ½å¼ºæ‚çš„å†…ç½®ç±»å‹åˆ‡ç‰‡(â€œåŠ¨æ€æ•°ç»„â€)ï¼Œä¸æ•°ç»„ç›¸æ¯”åˆ‡ç‰‡çš„é•¿åº¦æ˜¯ä¸å›ºå®šçš„ï¼Œå¯ä»¥è¿½åŠ å…ƒç´ ï¼Œåœ¨è¿½åŠ æ—¶å¯èƒ½ä½¿åˆ‡ç‰‡çš„å®¹é‡å¢å¤§ã€‚</p>
<h3 id="åˆ‡ç‰‡çš„å®šä¹‰"><a href="#åˆ‡ç‰‡çš„å®šä¹‰" class="headerlink" title="åˆ‡ç‰‡çš„å®šä¹‰"></a>åˆ‡ç‰‡çš„å®šä¹‰</h3><ul>
<li><p>ä½¿ç”¨æœªæŒ‡å®šå¤§å°çš„æ•°ç»„æ¥å®šä¹‰ï¼š<code>var æ ‡è¯†ç¬¦ []ç±»å‹</code></p>
</li>
<li><p>ä½¿ç”¨<code>make()</code>å‡½æ•°æ¥åˆ›å»ºåˆ‡ç‰‡ï¼š</p>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">var</span> slice1 []<span class="hljs-keyword">int</span> = <span class="hljs-built_in">make</span>([]<span class="hljs-keyword">int</span>, <span class="hljs-built_in">len</span>)
æˆ–
slice1 := <span class="hljs-built_in">make</span>([]<span class="hljs-keyword">int</span>, <span class="hljs-built_in">len</span>)</code></pre></div>
</li>
<li><p>ä¹Ÿå¯ä»¥æŒ‡å®šå®¹é‡<code>make([]int, len, capacity)</code></p>
</li>
</ul>
<h3 id="åˆ‡ç‰‡åˆå§‹åŒ–"><a href="#åˆ‡ç‰‡åˆå§‹åŒ–" class="headerlink" title="åˆ‡ç‰‡åˆå§‹åŒ–"></a>åˆ‡ç‰‡åˆå§‹åŒ–</h3><div class="hljs"><pre><code class="hljs go">s := <span class="hljs-keyword">int</span> {<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>}                <span class="hljs-comment">//ç›´æ¥åˆå§‹åŒ–åˆ‡ç‰‡ï¼Œ[]æ˜¯åˆ‡ç‰‡ç±»å‹</span>
s := arr[:]                        <span class="hljs-comment">//å¯¹arrçš„å¼•ç”¨</span>
s := arr[startIndex:endIndex]    <span class="hljs-comment">//å°† arr ä¸­ä»ä¸‹æ ‡ startIndex åˆ° endIndex-1 åˆ›å»ºä¸€ä¸ªæ–°çš„åˆ‡ç‰‡ã€‚</span>
s := arr[startIndex:] 
s := arr[:endIndex] 
s1 := s[startIndex:endIndex]     <span class="hljs-comment">//åˆ‡ç‰‡åˆå§‹åŒ–ä¸ºs1</span>
s :=<span class="hljs-built_in">make</span>([]<span class="hljs-keyword">int</span>,<span class="hljs-built_in">len</span>,<span class="hljs-built_in">cap</span>)</code></pre></div>
<h3 id="åˆ‡ç‰‡çš„é•¿åº¦å’Œå®¹é‡"><a href="#åˆ‡ç‰‡çš„é•¿åº¦å’Œå®¹é‡" class="headerlink" title="åˆ‡ç‰‡çš„é•¿åº¦å’Œå®¹é‡"></a>åˆ‡ç‰‡çš„é•¿åº¦å’Œå®¹é‡</h3><p><code>len()</code>å’Œ<code>cap()</code>å¯ä»¥è·å–åˆ‡ç‰‡çš„é•¿åº¦å’Œå®¹é‡</p>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main
<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">var</span> arr =  []<span class="hljs-keyword">int</span>{<span class="hljs-number">0</span>,<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,<span class="hljs-number">6</span>,<span class="hljs-number">7</span>}
    slice1 := arr[<span class="hljs-number">1</span>:<span class="hljs-number">4</span>]
    fmt.Println(slice1)
    fmt.Println(<span class="hljs-built_in">len</span>(slice1))
    fmt.Println(<span class="hljs-built_in">cap</span>(slice1))

    <span class="hljs-keyword">var</span> slice2 = <span class="hljs-built_in">make</span>([]<span class="hljs-keyword">int</span>, <span class="hljs-number">4</span>, <span class="hljs-number">7</span>)
    slice2 = arr[<span class="hljs-number">2</span>:<span class="hljs-number">6</span>]
    fmt.Println(slice2)
    fmt.Println(<span class="hljs-built_in">len</span>(slice2))
    fmt.Println(<span class="hljs-built_in">cap</span>(slice2))
}</code></pre></div>
<p>è¾“å‡ºï¼š</p>
<div class="hljs"><pre><code class="hljs angelscript">[<span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span>]
<span class="hljs-number">3</span>
<span class="hljs-number">7</span>
[<span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span> <span class="hljs-number">5</span>]
<span class="hljs-number">4</span>
<span class="hljs-number">6</span></code></pre></div>
<p>å¯ä»¥è§‚å¯Ÿä¸€ä¸‹ï¼Œcapåˆ°åº•æ˜¯æ€ä¹ˆè®¡ç®—çš„</p>
<div class="note note-success">
            <p>åˆ‡ç‰‡çš„é•¿åº¦æ˜¯åˆ‡ç‰‡ä¸­çš„å…ƒç´ æ•°ã€‚<strong>åˆ‡ç‰‡çš„å®¹é‡æ˜¯ä»åˆ›å»ºåˆ‡ç‰‡ç´¢å¼•å¼€å§‹çš„åº•å±‚æ•°ç»„ä¸­å…ƒç´ æ•°ã€‚</strong></p>
          </div>
<h3 id="åˆ‡ç‰‡çš„æ‰©å……å’Œæ‹·è´"><a href="#åˆ‡ç‰‡çš„æ‰©å……å’Œæ‹·è´" class="headerlink" title="åˆ‡ç‰‡çš„æ‰©å……å’Œæ‹·è´"></a>åˆ‡ç‰‡çš„æ‰©å……å’Œæ‹·è´</h3><div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
   <span class="hljs-keyword">var</span> numbers []<span class="hljs-keyword">int</span>
   printSlice(numbers)

   <span class="hljs-comment">// å‘åˆ‡ç‰‡æ·»åŠ ä¸€ä¸ªå…ƒç´  </span>
   numbers = <span class="hljs-built_in">append</span>(numbers, <span class="hljs-number">0</span>)
   printSlice(numbers)

   <span class="hljs-comment">// åŒæ—¶æ·»åŠ å¤šä¸ªå…ƒç´ </span>
   numbers = <span class="hljs-built_in">append</span>(numbers, <span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">4</span>)
   printSlice(numbers)

   <span class="hljs-comment">//åˆ›å»ºåˆ‡ç‰‡ numbers1 æ˜¯ä¹‹å‰åˆ‡ç‰‡çš„ä¸¤å€å®¹é‡</span>
   numbers1 := <span class="hljs-built_in">make</span>([]<span class="hljs-keyword">int</span>, <span class="hljs-built_in">len</span>(numbers), (<span class="hljs-built_in">cap</span>(numbers))*<span class="hljs-number">2</span>)

   <span class="hljs-comment">// æ‹·è´ numbers çš„å†…å®¹åˆ° numbers1</span>
   <span class="hljs-built_in">copy</span>(numbers1,numbers)
   printSlice(numbers1)  
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">printSlice</span><span class="hljs-params">(x []<span class="hljs-keyword">int</span>)</span></span>{
   fmt.Printf(<span class="hljs-string">"len=%d cap=%d slice=%v\n"</span>,<span class="hljs-built_in">len</span>(x),<span class="hljs-built_in">cap</span>(x),x)
}</code></pre></div>
<p>è¾“å‡ºï¼š</p>
<div class="hljs"><pre><code class="hljs angelscript">len=<span class="hljs-number">0</span> cap=<span class="hljs-number">0</span> slice=[]
len=<span class="hljs-number">1</span> cap=<span class="hljs-number">1</span> slice=[<span class="hljs-number">0</span>]
len=<span class="hljs-number">5</span> cap=<span class="hljs-number">6</span> slice=[<span class="hljs-number">0</span> <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span>]
len=<span class="hljs-number">5</span> cap=<span class="hljs-number">12</span> slice=[<span class="hljs-number">0</span> <span class="hljs-number">1</span> <span class="hljs-number">2</span> <span class="hljs-number">3</span> <span class="hljs-number">4</span>]</code></pre></div>
<h3 id="åˆ‡ç‰‡ä¸æ•°ç»„çš„åŒºåˆ«"><a href="#åˆ‡ç‰‡ä¸æ•°ç»„çš„åŒºåˆ«" class="headerlink" title="åˆ‡ç‰‡ä¸æ•°ç»„çš„åŒºåˆ«"></a>åˆ‡ç‰‡ä¸æ•°ç»„çš„åŒºåˆ«</h3><p>åˆ‡ç‰‡æ–‡æ³•ç±»ä¼¼äºæ²¡æœ‰é•¿åº¦çš„æ•°ç»„æ–‡æ³•ã€‚</p>
<p>è¿™æ˜¯ä¸€ä¸ªæ•°ç»„æ–‡æ³•ï¼š</p>
<div class="hljs"><pre><code class="hljs go">[<span class="hljs-number">3</span>]<span class="hljs-keyword">bool</span>{<span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>}</code></pre></div>
<p>ä¸‹é¢è¿™æ ·åˆ™ä¼šåˆ›å»ºä¸€ä¸ªå’Œä¸Šé¢ç›¸åŒçš„æ•°ç»„ï¼Œç„¶åæ„å»ºä¸€ä¸ªå¼•ç”¨äº†å®ƒçš„åˆ‡ç‰‡ï¼š</p>
<div class="hljs"><pre><code class="hljs go">[]<span class="hljs-keyword">bool</span>{<span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">false</span>}</code></pre></div>
<ul>
<li>åˆ‡ç‰‡å¹¶ä¸å­˜å‚¨ä»»ä½•æ•°æ®ï¼Œå®ƒåªæ˜¯æè¿°äº†åº•å±‚æ•°ç»„ä¸­çš„ä¸€æ®µã€‚</li>
<li>æ›´æ”¹åˆ‡ç‰‡çš„å…ƒç´ ä¼šä¿®æ”¹å…¶åº•å±‚æ•°ç»„ä¸­å¯¹åº”çš„å…ƒç´ ã€‚</li>
<li>ä¸å®ƒå…±äº«åº•å±‚æ•°ç»„çš„åˆ‡ç‰‡éƒ½ä¼šè§‚æµ‹åˆ°è¿™äº›ä¿®æ”¹ã€‚</li>
</ul>
<p>è§‚å¯Ÿä¸‹é¢çš„ç¨‹åºï¼ŒçŒœçŒœä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ</p>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"fmt"</span>
)

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">change</span><span class="hljs-params">(s ...<span class="hljs-keyword">string</span>)</span></span> {
    s[<span class="hljs-number">0</span>] = <span class="hljs-string">"Go"</span>
    s = <span class="hljs-built_in">append</span>(s, <span class="hljs-string">"playground"</span>)
    fmt.Println(s)
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    welcome := []<span class="hljs-keyword">string</span>{<span class="hljs-string">"hello"</span>, <span class="hljs-string">"world"</span>}
    change(welcome...)
    fmt.Println(welcome)
}</code></pre></div>
<h3 id="å†…å­˜ä¼˜åŒ–"><a href="#å†…å­˜ä¼˜åŒ–" class="headerlink" title="å†…å­˜ä¼˜åŒ–"></a>å†…å­˜ä¼˜åŒ–</h3><p>åˆ‡ç‰‡æŒæœ‰å¯¹åº•å±‚æ•°ç»„çš„å¼•ç”¨ã€‚åªè¦åˆ‡ç‰‡åœ¨å†…å­˜ä¸­ï¼Œæ•°ç»„å°±ä¸èƒ½è¢«åƒåœ¾å›æ”¶ã€‚åœ¨å†…å­˜ç®¡ç†æ–¹é¢ï¼Œè¿™æ˜¯éœ€è¦æ³¨æ„çš„ã€‚è®©æˆ‘ä»¬å‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªéå¸¸å¤§çš„æ•°ç»„ï¼Œæˆ‘ä»¬åªæƒ³å¤„ç†å®ƒçš„ä¸€å°éƒ¨åˆ†ã€‚ç„¶åï¼Œæˆ‘ä»¬ç”±è¿™ä¸ªæ•°ç»„åˆ›å»ºä¸€ä¸ªåˆ‡ç‰‡ï¼Œå¹¶å¼€å§‹å¤„ç†åˆ‡ç‰‡ã€‚è¿™é‡Œéœ€è¦é‡ç‚¹æ³¨æ„çš„æ˜¯ï¼Œ<strong>åœ¨åˆ‡ç‰‡å¼•ç”¨æ—¶æ•°ç»„ä»ç„¶å­˜åœ¨å†…å­˜ä¸­</strong>ã€‚</p>
<p>ä¸€ç§è§£å†³æ–¹æ³•æ˜¯ä½¿ç”¨ copy å‡½æ•° <code>func copy(dstï¼Œsrc[]T)int</code> æ¥ç”Ÿæˆä¸€ä¸ªåˆ‡ç‰‡çš„å‰¯æœ¬ã€‚è¿™æ ·æˆ‘ä»¬å¯ä»¥ä½¿ç”¨æ–°çš„åˆ‡ç‰‡ï¼ŒåŸå§‹æ•°ç»„å¯ä»¥è¢«<strong>åƒåœ¾å›æ”¶</strong>ã€‚</p>
<h2 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h2><h3 id="Mapçš„åˆ›å»ºä¸åˆå§‹åŒ–"><a href="#Mapçš„åˆ›å»ºä¸åˆå§‹åŒ–" class="headerlink" title="Mapçš„åˆ›å»ºä¸åˆå§‹åŒ–"></a>Mapçš„åˆ›å»ºä¸åˆå§‹åŒ–</h3><div class="hljs"><pre><code class="hljs go"><span class="hljs-comment">/* å£°æ˜å˜é‡ï¼Œé»˜è®¤ map æ˜¯ nil */</span>
<span class="hljs-keyword">var</span> map_variable <span class="hljs-keyword">map</span>[key_data_type]value_data_type

<span class="hljs-comment">/* ä½¿ç”¨ make å‡½æ•° */</span>
map_variable := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">map</span>[key_data_type]value_data_type)</code></pre></div>
<p>å¦‚æœä¸åˆå§‹åŒ– mapï¼Œé‚£ä¹ˆå°±ä¼šåˆ›å»ºä¸€ä¸ª nil mapã€‚nil map ä¸èƒ½ç”¨æ¥å­˜æ”¾é”®å€¼å¯¹ã€‚</p>
<p>æ‰€ä»¥å¿…é¡»è¿›è¡Œåˆå§‹åŒ–</p>
<h3 id="ä½¿ç”¨rangeè¿­ä»£"><a href="#ä½¿ç”¨rangeè¿­ä»£" class="headerlink" title="ä½¿ç”¨rangeè¿­ä»£"></a>ä½¿ç”¨rangeè¿­ä»£</h3><p>ä½¿ç”¨é”®è¿›è¡Œéå†å³å¯</p>
<h3 id="æŸ¥çœ‹æ˜¯å¦Keyå­˜åœ¨"><a href="#æŸ¥çœ‹æ˜¯å¦Keyå­˜åœ¨" class="headerlink" title="æŸ¥çœ‹æ˜¯å¦Keyå­˜åœ¨"></a>æŸ¥çœ‹æ˜¯å¦Keyå­˜åœ¨</h3><p>å¯ä»¥ä½¿ç”¨<code>key,ok := mymap[value]</code></p>
<p>è‹¥keyå­˜åœ¨ï¼Œåˆ™<code>ok == true</code>ï¼›å¦åˆ™<code>ok == false</code></p>
<h3 id="èŒƒå›´Range"><a href="#èŒƒå›´Range" class="headerlink" title="èŒƒå›´Range"></a>èŒƒå›´Range</h3><p>range å¯ç”¨äºè¿­ä»£æ•°ç»„ã€åˆ‡ç‰‡ã€é€šé“ã€é›†åˆ</p>
<h3 id="delete-å‡½æ•°"><a href="#delete-å‡½æ•°" class="headerlink" title="delete()å‡½æ•°"></a>delete()å‡½æ•°</h3><div class="hljs"><pre><code class="hljs go"><span class="hljs-built_in">delete</span>(mymap, Key)</code></pre></div>
<h3 id="å‚è€ƒä¾‹ç¨‹"><a href="#å‚è€ƒä¾‹ç¨‹" class="headerlink" title="å‚è€ƒä¾‹ç¨‹"></a>å‚è€ƒä¾‹ç¨‹</h3><div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-comment">//åˆ›å»ºå¹¶åˆå§‹åŒ–</span>
    countryCapitalMap := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">map</span>[<span class="hljs-keyword">string</span>]<span class="hljs-keyword">string</span>)        

    countryCapitalMap [ <span class="hljs-string">"France"</span> ] = <span class="hljs-string">"å·´é»"</span>
    countryCapitalMap [ <span class="hljs-string">"Italy"</span> ] = <span class="hljs-string">"ç½—é©¬"</span>
    countryCapitalMap [ <span class="hljs-string">"Japan"</span> ] = <span class="hljs-string">"ä¸œäº¬"</span>
    countryCapitalMap [ <span class="hljs-string">"India "</span> ] = <span class="hljs-string">"æ–°å¾·é‡Œ"</span>
    <span class="hljs-comment">//ä½¿ç”¨rangeè¿›è¡Œéå†</span>
    <span class="hljs-keyword">for</span> country := <span class="hljs-keyword">range</span> countryCapitalMap {
        fmt.Println(country, <span class="hljs-string">"é¦–éƒ½æ˜¯"</span>, countryCapitalMap [country])
    }
    <span class="hljs-comment">//å¯ä»¥åˆ¤æ–­keyæ˜¯å¦å­˜åœ¨</span>
    capital, ok := countryCapitalMap [ <span class="hljs-string">"American"</span> ]
    <span class="hljs-keyword">if</span> (ok) {
        fmt.Println(<span class="hljs-string">"American çš„é¦–éƒ½æ˜¯"</span>, capital)
    } <span class="hljs-keyword">else</span> {
        fmt.Println(<span class="hljs-string">"American çš„é¦–éƒ½ä¸å­˜åœ¨"</span>)
    }
    <span class="hljs-comment">//åˆ é™¤æŸä¸ªmap</span>
    <span class="hljs-built_in">delete</span>(countryCapitalMap, <span class="hljs-string">"France"</span>)
    fmt.Println()
    <span class="hljs-keyword">for</span> country := <span class="hljs-keyword">range</span> countryCapitalMap {
        fmt.Println(country, <span class="hljs-string">"é¦–éƒ½æ˜¯"</span>, countryCapitalMap [country])
    }
}</code></pre></div>
<h2 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h2><div class="hljs"><pre><code class="hljs c++">package main

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"fmt"</span>
)

<span class="hljs-function">func <span class="hljs-title">printBytes</span><span class="hljs-params">(s <span class="hljs-built_in">string</span>)</span> </span>{
    <span class="hljs-keyword">for</span> i:= <span class="hljs-number">0</span>; i &lt; len(s); i++ {
        fmt.Printf(<span class="hljs-string">"%x "</span>, s[i])
    }
}

<span class="hljs-function">func <span class="hljs-title">printChars</span><span class="hljs-params">(s <span class="hljs-built_in">string</span>)</span> </span>{
    <span class="hljs-keyword">for</span> i:= <span class="hljs-number">0</span>; i &lt; len(s); i++ {
        fmt.Printf(<span class="hljs-string">"%c "</span>,s[i])
    }
}

<span class="hljs-function">func <span class="hljs-title">main</span><span class="hljs-params">()</span> </span>{
    name = <span class="hljs-string">"SeÃ±or"</span>
    printBytes(name)
    fmt.Printf(<span class="hljs-string">"\n"</span>)
    printChars(name)
}</code></pre></div>
<p>è¿è¡Œç»“æœå¦‚ä¸‹ï¼š</p>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-number">53</span> <span class="hljs-number">65</span> c3 b1 <span class="hljs-number">6</span>f <span class="hljs-number">72</span>
S e Ãƒ Â± o r</code></pre></div>
<p>å¯ä»¥çœ‹åˆ°ï¼Œå‡ºç°äº†ä¸€ä¸ªå°bugã€‚è¿™æ˜¯å› ä¸º<code>Ã±</code>åœ¨UTF-8ä¸­æ˜¯å ç”¨äº†ä¸¤ä¸ªå­—èŠ‚çš„ã€‚é‚£ä¹ˆæˆ‘ä»¬è¯¥å¦‚ä½•è·å–æ¯ä¸€ä¸ªå­—ç¬¦å‘¢ï¼Ÿ</p>
<h3 id="rune"><a href="#rune" class="headerlink" title="rune"></a>rune</h3><p>rune æ˜¯ Go è¯­è¨€çš„å†…å»ºç±»å‹ï¼Œå®ƒä¹Ÿæ˜¯ int32 çš„åˆ«ç§°ã€‚åœ¨ Go è¯­è¨€ä¸­ï¼Œ<strong>rune è¡¨ç¤ºä¸€ä¸ªä»£ç ç‚¹</strong>ã€‚ä»£ç ç‚¹æ— è®ºå ç”¨å¤šå°‘ä¸ªå­—èŠ‚ï¼Œéƒ½å¯ä»¥ç”¨ä¸€ä¸ª rune æ¥è¡¨ç¤ºã€‚</p>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"fmt"</span>
)

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">printBytes</span><span class="hljs-params">(s <span class="hljs-keyword">string</span>)</span></span> {
    <span class="hljs-keyword">for</span> i:= <span class="hljs-number">0</span>; i &lt; <span class="hljs-built_in">len</span>(s); i++ {
        fmt.Printf(<span class="hljs-string">"%x "</span>, s[i])
    }
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">printChars</span><span class="hljs-params">(s <span class="hljs-keyword">string</span>)</span></span> {
    runes := []<span class="hljs-keyword">rune</span>(s)
    <span class="hljs-keyword">for</span> i:= <span class="hljs-number">0</span>; i &lt; <span class="hljs-built_in">len</span>(runes); i++ {
        fmt.Printf(<span class="hljs-string">"%c "</span>,runes[i])
    }
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    name := <span class="hljs-string">"SeÃ±or"</span>
    printBytes(name)
    fmt.Printf(<span class="hljs-string">"\n"</span>)
    printChars(name)
}</code></pre></div>
<p>æ›´ç®€å•çš„éå†å­—ç¬¦ä¸²æ–¹æ³•æ˜¯ä½¿ç”¨<code>for range</code>ï¼š</p>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">printCharsAndBytes</span><span class="hljs-params">(s <span class="hljs-keyword">string</span>)</span></span> {
    <span class="hljs-keyword">for</span> index, <span class="hljs-keyword">rune</span> := <span class="hljs-keyword">range</span> s {
        fmt.Printf(<span class="hljs-string">"%c starts at byte %d\n"</span>, <span class="hljs-keyword">rune</span>, index)
    }
}</code></pre></div>
<h3 id="å­—ç¬¦ä¸²æ˜¯ä¸å¯ä¿®æ”¹çš„"><a href="#å­—ç¬¦ä¸²æ˜¯ä¸å¯ä¿®æ”¹çš„" class="headerlink" title="å­—ç¬¦ä¸²æ˜¯ä¸å¯ä¿®æ”¹çš„"></a>å­—ç¬¦ä¸²æ˜¯ä¸å¯ä¿®æ”¹çš„</h3><p>è¦æƒ³ä¿®æ”¹ï¼Œéœ€è¦å…ˆå°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºä¸€ä¸ªruneåˆ‡ç‰‡ã€‚ç„¶åè¿™ä¸ªåˆ‡ç‰‡å¯ä»¥è¿›è¡Œä»»ä½•æƒ³è¦çš„æ”¹å˜ï¼Œç„¶åå†è½¬åŒ–ä¸ºä¸€ä¸ªå­—ç¬¦ä¸²ã€‚</p>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (  
    <span class="hljs-string">"fmt"</span>
)

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">mutate</span><span class="hljs-params">(s []<span class="hljs-keyword">rune</span>)</span> <span class="hljs-title">string</span></span> {  
    s[<span class="hljs-number">0</span>] = <span class="hljs-string">'a'</span> 
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">string</span>(s)
}
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {  
    h := <span class="hljs-string">"hello"</span>
    fmt.Println(mutate([]<span class="hljs-keyword">rune</span>(h)))
}</code></pre></div>
<h2 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h2><p>Go æ²¡æœ‰ç±»ã€‚ä¸è¿‡ä½ å¯ä»¥ä¸ºç»“æ„ä½“ç±»å‹å®šä¹‰æ–¹æ³•ã€‚(å½“ç„¶ä¹Ÿå¯ä»¥ä¸ºéç»“æ„ä½“ç±»å‹å®šä¹‰æ–¹æ³•)</p>
<p>æ–¹æ³•å°±æ˜¯ä¸€ç±»å¸¦ç‰¹æ®Šçš„ <strong>æ¥æ”¶è€…</strong> å‚æ•°çš„å‡½æ•°ã€‚</p>
<p>æ–¹æ³•æ¥æ”¶è€…åœ¨å®ƒè‡ªå·±çš„å‚æ•°åˆ—è¡¨å†…ï¼Œä½äº <code>func</code> å…³é”®å­—å’Œæ–¹æ³•åä¹‹é—´ã€‚</p>
<p>åœ¨æ­¤ä¾‹ä¸­ï¼Œ<code>Abs</code> æ–¹æ³•æ‹¥æœ‰ä¸€ä¸ªåä¸º <code>v</code>ï¼Œç±»å‹ä¸º <code>Vertex</code> çš„æ¥æ”¶è€…ã€‚</p>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"fmt"</span>
    <span class="hljs-string">"math"</span>
)

<span class="hljs-keyword">type</span> Vertex <span class="hljs-keyword">struct</span> {
    X, Y <span class="hljs-keyword">float64</span>
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(v Vertex)</span> <span class="hljs-title">Abs</span><span class="hljs-params">()</span> <span class="hljs-title">float64</span></span> {
    <span class="hljs-keyword">return</span> math.Sqrt(v.X*v.X + v.Y*v.Y)
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    v := Vertex{<span class="hljs-number">3</span>, <span class="hljs-number">4</span>}
    fmt.Println(v.Abs())
}</code></pre></div>
<h3 id="å€¼æ¥æ”¶å™¨å’ŒæŒ‡é’ˆæ¥æ”¶å™¨"><a href="#å€¼æ¥æ”¶å™¨å’ŒæŒ‡é’ˆæ¥æ”¶å™¨" class="headerlink" title="å€¼æ¥æ”¶å™¨å’ŒæŒ‡é’ˆæ¥æ”¶å™¨"></a>å€¼æ¥æ”¶å™¨å’ŒæŒ‡é’ˆæ¥æ”¶å™¨</h3><p>ç»è¿‡æµ‹è¯•ï¼Œæˆ‘æ€»ç»“äº†ä»–ä»¬çš„ç‰¹æ€§ï¼š</p>
<ul>
<li>æ— è®ºæ˜¯å€¼æ¥æ”¶å™¨è¿˜æ˜¯æŒ‡é’ˆæ¥æ”¶å™¨ï¼Œæ—¢å¯ä»¥ä½¿ç”¨æŒ‡å‘ç»“æ„ä½“çš„æŒ‡é’ˆæ¥è°ƒç”¨ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä½¿ç”¨ç»“æ„ä½“æ¥è°ƒç”¨ã€‚ï¼ˆGoè¯­è¨€æˆ–è®¸æ˜¯æƒ³å‡å°‘æˆ‘ä»¬çš„é”™è¯¯ï¼Œä¸¤ç§æ–¹æ³•éƒ½å¯ä»¥ï¼‰</li>
<li>è€Œæœ€ç»ˆçš„æ•ˆæœâ€”â€”æ–¹æ³•å†…éƒ¨çš„æ”¹å˜å¯¹äºè°ƒç”¨è€…æ˜¯å¦å¯è§ï¼Œå–å†³äºæ–¹æ³•æ˜¯<strong>å€¼æ¥æ”¶å™¨</strong>å’Œ<strong>æŒ‡é’ˆæ¥æ”¶å™¨</strong>ï¼Œè€Œå’Œè°ƒç”¨è€…æ²¡æœ‰å…³ç³»ã€‚</li>
</ul>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"fmt"</span>
)

<span class="hljs-keyword">type</span> Employee <span class="hljs-keyword">struct</span> {
    name <span class="hljs-keyword">string</span>
    age  <span class="hljs-keyword">int</span>
}

<span class="hljs-comment">/*</span>
<span class="hljs-comment">ä½¿ç”¨å€¼æ¥æ”¶å™¨çš„æ–¹æ³•ã€‚</span>
<span class="hljs-comment">*/</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(e Employee)</span> <span class="hljs-title">changeName</span><span class="hljs-params">(newName <span class="hljs-keyword">string</span>)</span></span> {
    e.name = newName
}

<span class="hljs-comment">/*</span>
<span class="hljs-comment">ä½¿ç”¨æŒ‡é’ˆæ¥æ”¶å™¨çš„æ–¹æ³•ã€‚</span>
<span class="hljs-comment">*/</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(e *Employee)</span> <span class="hljs-title">changeAge</span><span class="hljs-params">(newAge <span class="hljs-keyword">int</span>)</span></span> {
    e.age = newAge
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    e := Employee{
        name: <span class="hljs-string">"Mark Andrew"</span>,
        age:  <span class="hljs-number">50</span>,
    }
    fmt.Printf(<span class="hljs-string">"Employee name before change: %s"</span>, e.name)
    e.changeName(<span class="hljs-string">"Michael Andrew"</span>)
    fmt.Printf(<span class="hljs-string">"\nEmployee name after change: %s"</span>, e.name)

    fmt.Printf(<span class="hljs-string">"\n\nEmployee age before change: %d"</span>, e.age)
    e.changeAge(<span class="hljs-number">51</span>)
    fmt.Printf(<span class="hljs-string">"\nEmployee age after change: %d"</span>, e.age)
}</code></pre></div>
<p>è¾“å‡ºï¼š</p>
<div class="hljs"><pre><code class="hljs coq">Employee name <span class="hljs-built_in">before</span> <span class="hljs-built_in">change</span>: Mark Andrew
Employee name <span class="hljs-built_in">after</span> <span class="hljs-built_in">change</span>: Mark Andrew

Employee age <span class="hljs-built_in">before</span> <span class="hljs-built_in">change</span>: <span class="hljs-number">50</span>
Employee age <span class="hljs-built_in">after</span> <span class="hljs-built_in">change</span>: <span class="hljs-number">51</span></code></pre></div>
<h2 id="æ¥å£"><a href="#æ¥å£" class="headerlink" title="æ¥å£"></a>æ¥å£</h2><p>æ¥å£ä¸»è¦æ˜¯ç”¨äºå¯¹ä¸åŒçš„ç»“æ„ä½“ï¼Œèµ‹äºˆ<strong>åŒä¸€ä¸ªåç§°çš„å‡½æ•°</strong>ï¼ˆè¯¥å‡½æ•°é’ˆå¯¹ä¸åŒç»“æ„ä½“å¯ä»¥æœ‰ä¸åŒçš„æ“ä½œï¼‰</p>
<p>é€šè¿‡ä¸‹é¢è¿™ä¸ªç¨‹åºï¼Œæˆ‘ä»¬å¯ä»¥çœ‹çœ‹åˆ°è°ƒç”¨Testæ¥å£çš„ç±»å‹ä¸º<code>main.MyFloat</code>ã€‚</p>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (  
    <span class="hljs-string">"fmt"</span>
)

<span class="hljs-keyword">type</span> Test <span class="hljs-keyword">interface</span> {  
    Tester()
}

<span class="hljs-keyword">type</span> MyFloat <span class="hljs-keyword">float64</span>

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-params">(m MyFloat)</span> <span class="hljs-title">Tester</span><span class="hljs-params">()</span></span> {  
    fmt.Println(m)
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">describe</span><span class="hljs-params">(t Test)</span></span> {  
    fmt.Printf(<span class="hljs-string">"Interface type %T value %v\n"</span>, t, t)
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {  
    <span class="hljs-keyword">var</span> t Test
    f := MyFloat(<span class="hljs-number">89.7</span>)
    t = f
    describe(t)
    t.Tester()
}</code></pre></div>
<p>è¾“å‡ºï¼š</p>
<div class="hljs"><pre><code class="hljs routeros">Interface<span class="hljs-built_in"> type </span>main.MyFloat value 89.7  
89.7</code></pre></div>
<h3 id="ç©ºæ¥å£"><a href="#ç©ºæ¥å£" class="headerlink" title="ç©ºæ¥å£"></a>ç©ºæ¥å£</h3><p>æ²¡æœ‰åŒ…å«æ–¹æ³•çš„æ¥å£ç§°ä¸ºç©ºæ¥å£ã€‚ç©ºæ¥å£è¡¨ç¤ºä¸º <code>interface{}</code>ã€‚ç”±äºç©ºæ¥å£æ²¡æœ‰æ–¹æ³•ï¼Œå› æ­¤æ‰€æœ‰ç±»å‹éƒ½å®ç°äº†ç©ºæ¥å£ã€‚</p>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (  
    <span class="hljs-string">"fmt"</span>
)

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">describe</span><span class="hljs-params">(i <span class="hljs-keyword">interface</span>{})</span></span> {  
    fmt.Printf(<span class="hljs-string">"Type = %T, value = %v\n"</span>, i, i)
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {  
    s := <span class="hljs-string">"Hello World"</span>
    describe(s)
    i := <span class="hljs-number">55</span>
    describe(i)
    strt := <span class="hljs-keyword">struct</span> {
        name <span class="hljs-keyword">string</span>
    }{
        name: <span class="hljs-string">"Naveen R"</span>,
    }
    describe(strt)
}</code></pre></div>
<p>è¾“å‡ºï¼š</p>
<div class="hljs"><pre><code class="hljs routeros">Type = string, value = Hello World  
Type = int, value = 55  
Type = struct { name string }, value = {Naveen R}</code></pre></div>
<h1 id="ä¸‰ã€å¹¶è¡Œç›¸å…³"><a href="#ä¸‰ã€å¹¶è¡Œç›¸å…³" class="headerlink" title="ä¸‰ã€å¹¶è¡Œç›¸å…³"></a>ä¸‰ã€å¹¶è¡Œç›¸å…³</h1><h2 id="Goroutine"><a href="#Goroutine" class="headerlink" title="Goroutine"></a>Goroutine</h2><p>goroutineæ˜¯ç”±Goè¿è¡Œæ—¶ç®¡ç†çš„è½»é‡çº§çº¿ç¨‹ã€‚</p>
<ul>
<li>Go åç¨‹ä¼šå¤ç”¨ï¼ˆMultiplexï¼‰æ•°é‡æ›´å°‘çš„ OS çº¿ç¨‹ã€‚å³ä½¿ç¨‹åºæœ‰æ•°ä»¥åƒè®¡çš„ Go åç¨‹ï¼Œä¹Ÿå¯èƒ½åªæœ‰ä¸€ä¸ªçº¿ç¨‹ã€‚å¦‚æœè¯¥çº¿ç¨‹ä¸­çš„æŸä¸€ Go åç¨‹å‘ç”Ÿäº†é˜»å¡ï¼ˆæ¯”å¦‚è¯´ç­‰å¾…ç”¨æˆ·è¾“å…¥ï¼‰ï¼Œé‚£ä¹ˆç³»ç»Ÿä¼šå†åˆ›å»ºä¸€ä¸ª OS çº¿ç¨‹ï¼Œå¹¶æŠŠå…¶ä½™ Go åç¨‹éƒ½ç§»åŠ¨åˆ°è¿™ä¸ªæ–°çš„ OS çº¿ç¨‹ã€‚</li>
<li>ä½¿ç”¨ä¿¡é“ï¼ˆchannelï¼‰æ¥è¿›è¡Œé€šä¿¡</li>
</ul>
<p>å½“æˆ‘ä»¬ç›´æ¥è¿è¡Œä»¥ä¸‹ä»£ç çš„æ—¶å€™ï¼Œä¼šå‘ç°å’Œæˆ‘ä»¬æƒ³è±¡çš„ä¸ä¸€æ ·ï¼Œç¨‹åºåªè¾“å‡ºäº†â€mainâ€ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆæï¼Ÿè¿™æ˜¯å› ä¸º<code>go hello()</code>å¯åŠ¨äº†ä¸€ä¸ªæ–°çš„åç¨‹ï¼Œç„¶å<code>main()</code>è¿è¡Œåœ¨ä¸€ä¸ªç‰¹æ®Šçš„åç¨‹ä¸Šï¼Œç§°ä¸º Go ä¸»åç¨‹<code>Main Goroutine</code>ã€‚</p>
<div class="note note-success">
            <p>å¦‚æœ Go ä¸»åç¨‹ç»ˆæ­¢ï¼Œåˆ™ç¨‹åºç»ˆæ­¢ï¼Œäºæ˜¯å…¶ä»– Go åç¨‹ä¹Ÿä¸ä¼šç»§ç»­è¿è¡Œã€‚</p>
          </div>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main
<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"fmt"</span>
)
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">hello</span><span class="hljs-params">()</span></span>{
    fmt.Println(<span class="hljs-string">"Hello"</span>)
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">go</span> hello()
    fmt.Println(<span class="hljs-string">"main"</span>)
}</code></pre></div>
<p>è§£å†³æ–¹æ³•ï¼Œå¯ä»¥æ˜¯ä½¿ä¸»åç¨‹å»¶è¿Ÿä¸€æ®µæ—¶é—´ï¼Œç­‰å…¶ä»–åç¨‹è¿è¡Œç»“æŸåï¼Œå†ç»ˆæ­¢ä¸»åç¨‹ã€‚</p>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (
    <span class="hljs-string">"fmt"</span>
    <span class="hljs-string">"time"</span>
)
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">hello</span><span class="hljs-params">()</span></span>{
    fmt.Println(<span class="hljs-string">"Hello"</span>)
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    <span class="hljs-keyword">go</span> hello()
    fmt.Println(<span class="hljs-string">"main"</span>)
    time.Sleep(<span class="hljs-number">1</span> * time.Second)
}</code></pre></div>
<p>ä½¿ç”¨å¤šä¸ªgoroutineåŒæ ·å¯ä»¥ä½¿ç”¨å»¶è¿Ÿçš„æ–¹å¼æ¥æ§åˆ¶è¿è¡Œçš„é¡ºåº</p>
<h2 id="ä¿¡é“channel"><a href="#ä¿¡é“channel" class="headerlink" title="ä¿¡é“channel"></a>ä¿¡é“channel</h2><h3 id="ä»€ä¹ˆæ˜¯ä¿¡é“"><a href="#ä»€ä¹ˆæ˜¯ä¿¡é“" class="headerlink" title="ä»€ä¹ˆæ˜¯ä¿¡é“"></a>ä»€ä¹ˆæ˜¯ä¿¡é“</h3><p>ä¿¡é“å¯ä»¥æƒ³è±¡æˆ Go åç¨‹ä¹‹é—´é€šä¿¡çš„ç®¡é“ã€‚å¦‚åŒç®¡é“ä¸­çš„æ°´ä¼šä»ä¸€ç«¯æµåˆ°å¦ä¸€ç«¯ï¼Œé€šè¿‡ä½¿ç”¨ä¿¡é“ï¼Œæ•°æ®ä¹Ÿå¯ä»¥ä»ä¸€ç«¯å‘é€ï¼Œåœ¨å¦ä¸€ç«¯æ¥æ”¶ã€‚</p>
<h3 id="ä¿¡é“çš„å®šä¹‰"><a href="#ä¿¡é“çš„å®šä¹‰" class="headerlink" title="ä¿¡é“çš„å®šä¹‰"></a>ä¿¡é“çš„å®šä¹‰</h3><div class="hljs"><pre><code class="hljs go"> <span class="hljs-keyword">var</span> a <span class="hljs-keyword">chan</span> <span class="hljs-keyword">int</span>            <span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªintç±»å‹çš„ä¿¡é“</span>
 a = <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-keyword">int</span>)        <span class="hljs-comment">//åˆ†é…å†…å­˜</span>
<span class="hljs-comment">//æˆ–</span>
a := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-keyword">int</span>)</code></pre></div>
<h3 id="ä¿¡é“çš„å‘é€ä¸æ¥æ”¶"><a href="#ä¿¡é“çš„å‘é€ä¸æ¥æ”¶" class="headerlink" title="ä¿¡é“çš„å‘é€ä¸æ¥æ”¶"></a>ä¿¡é“çš„å‘é€ä¸æ¥æ”¶</h3><div class="hljs"><pre><code class="hljs go">data := &lt;- a <span class="hljs-comment">// è¯»å–ä¿¡é“ a  </span>
a &lt;- data <span class="hljs-comment">// å†™å…¥ä¿¡é“ a</span></code></pre></div>
<div class="note note-success">
            <p>ä¿¡é“çš„å‘é€ä¸æ¥æ”¶é»˜è®¤æ˜¯<strong>é˜»å¡</strong>çš„</p>
          </div>
<p>å³ï¼šå†™å…¥ä¿¡é“æ—¶ï¼Œè‹¥æ²¡æœ‰è¯»å–ï¼Œå°±ä¼šé˜»å¡ï¼› è¯»å–ä¿¡é“æ—¶ï¼Œè‹¥æ²¡æœ‰å†™å…¥ï¼Œå°±ä¼šé˜»å¡</p>
<p>æˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ªç‰¹æ€§åº”ç”¨åˆ°å‰é¢çš„ä»£ç ä¸­ï¼Œä¸å†éœ€è¦æ—¶é—´å»¶è¿Ÿ</p>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">hello</span><span class="hljs-params">(done <span class="hljs-keyword">chan</span> <span class="hljs-keyword">bool</span>)</span></span>{
    fmt.Println(<span class="hljs-string">"Hello"</span>)
    done &lt;- <span class="hljs-literal">true</span>                <span class="hljs-comment">//å†™å…¥ä¿¡é“ï¼Œè¯´æ˜è¯¥goåç¨‹å·²ç»è¿è¡Œå®Œæ¯•</span>
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    done := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-keyword">bool</span>)    <span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªboolç±»å‹çš„ä¿¡é“</span>
    <span class="hljs-keyword">go</span> hello(done)
    &lt;- done                       <span class="hljs-comment">//å½“ä¿¡é“å°šæœªè¢«å†™å…¥æ—¶ï¼Œè¯¥è¯»å–ä¿¡é“çš„è¯­å¥å°†ä¼šè¢«é˜»å¡</span>
    fmt.Println(<span class="hljs-string">"main"</span>)
}</code></pre></div>
<h3 id="æ­»é”"><a href="#æ­»é”" class="headerlink" title="æ­»é”"></a>æ­»é”</h3><p>éœ€è¦ç‰¹åˆ«æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœåªå†™å…¥ä¿¡é“æˆ–è€…åªè¯»å–ä¿¡é“ï¼Œå°±ä¼šé€ æˆæ­»é”ï¼Œç¨‹åºä¼šè§¦å‘panicå¹¶æŠ¥é”™ã€‚</p>
<p>å¦‚ï¼š</p>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {  
    ch := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-keyword">int</span>)
    ch &lt;- <span class="hljs-number">5</span>
}</code></pre></div>
<p>è¾“å‡ºï¼š</p>
<div class="hljs"><pre><code class="hljs cmd">fatal error: all goroutines are asleep - deadlock!

goroutine <span class="hljs-number">1</span> [chan send]:
main.main()
<span class="hljs-function">        E:/<span class="hljs-title">go</span>/<span class="hljs-title">src</span>/<span class="hljs-title">main.go</span>:5 +0<span class="hljs-title">x57</span></span>
<span class="hljs-function"><span class="hljs-title">exit</span> <span class="hljs-title">status</span> 2</span></code></pre></div>
<h3 id="å•å‘ä¿¡é“"><a href="#å•å‘ä¿¡é“" class="headerlink" title="å•å‘ä¿¡é“"></a>å•å‘ä¿¡é“</h3><ul>
<li>åªæ”¶ä¿¡é“ï¼ˆReceive Onlyï¼‰        <code>chan&lt;- int</code></li>
<li>åªé€ä¿¡é“ï¼ˆSend Onlyï¼‰            <code>&lt;-chan int</code></li>
</ul>
<p>é‚£ä¹ˆä¸ºä»€ä¹ˆéœ€è¦å•å‘ä¿¡é“å‘¢ï¼Ÿå¦‚æœä¸€ä¸ªé€šé“åªæ”¶ä¸é€æˆ–è€…åªé€ä¸æ”¶ï¼Œå“ªè¿˜æœ‰ä»€ä¹ˆæ„ä¹‰ï¼äº‹å®ä¸Šï¼ŒåŒå‘é€šé“å¯ä»¥è½¬æ¢ä¸ºå•å‘ä¿¡é“ï¼Œæ‰€ä»¥å¯ä»¥æ­£å¸¸ä½¿ç”¨ï¼ˆä¸ªäººè®¤ä¸ºï¼Œå¤§æ¦‚æ˜¯ç”¨äºåç¨‹ä¼ å‚çš„æ—¶å€™ï¼Œå•å‘ä¿¡é“å¯ä»¥é™åˆ¶æŸä¸ªåç¨‹å¯¹é€šé“çš„æ“ä½œï¼Œå‡å°‘å‡ºé”™ã€‚ï¼‰</p>
<p>ä¸Šé¢çš„ç¨‹åºå¯ä»¥ç®€å•ä¿®æ”¹ä¸ºï¼š</p>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">hello</span><span class="hljs-params">(done <span class="hljs-keyword">chan</span>&lt;- <span class="hljs-keyword">bool</span>)</span></span>{    <span class="hljs-comment">//è¿™æ˜¯å•å‘çš„ åªé€ä¿¡é“</span>
    fmt.Println(<span class="hljs-string">"Hello"</span>)
    done &lt;- <span class="hljs-literal">true</span>                <span class="hljs-comment">//å†™å…¥ä¿¡é“ï¼Œè¯´æ˜è¯¥goåç¨‹å·²ç»è¿è¡Œå®Œæ¯•</span>
}

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {
    done := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-keyword">bool</span>)    <span class="hljs-comment">//å®šä¹‰ä¸€ä¸ªboolç±»å‹çš„ä¿¡é“</span>
    <span class="hljs-keyword">go</span> hello(done)
    &lt;- done                       <span class="hljs-comment">//å½“ä¿¡é“å°šæœªè¢«å†™å…¥æ—¶ï¼Œè¯¥è¯»å–ä¿¡é“çš„è¯­å¥å°†ä¼šè¢«é˜»å¡</span>
    fmt.Println(<span class="hljs-string">"main"</span>)
}</code></pre></div>
<div class="note note-success">
            <p>åŒå‘ä¿¡é“å¯ä»¥è½¬æ¢ä¸ºå•å‘ä¿¡é“ï¼Œä½†æ˜¯åè¿‡æ¥ä¸å¯ä»¥</p>
          </div>
<h3 id="å…³é—­ä¿¡é“"><a href="#å…³é—­ä¿¡é“" class="headerlink" title="å…³é—­ä¿¡é“"></a>å…³é—­ä¿¡é“</h3><p>ä½¿ç”¨å¤šä¸€ä¸ªå˜é‡æ¥åˆ¤æ–­ä¿¡é“æ˜¯å¦å·²ç»å…³é—­</p>
<div class="hljs"><pre><code class="hljs autohotkey"><span class="hljs-built_in">v,</span> ok := &lt;- ch</code></pre></div>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main
<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">producer</span><span class="hljs-params">(chnl <span class="hljs-keyword">chan</span> <span class="hljs-keyword">int</span>)</span></span> {  
    <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++ {
        chnl &lt;- i
    }
    <span class="hljs-built_in">close</span>(chnl)
}
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {  
    ch := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-keyword">int</span>)
    <span class="hljs-keyword">go</span> producer(ch)
    <span class="hljs-keyword">for</span> {
        v, ok := &lt;-ch
        <span class="hljs-keyword">if</span> ok == <span class="hljs-literal">false</span> {
            <span class="hljs-keyword">break</span>
        }
        fmt.Println(<span class="hljs-string">"Received "</span>, v, ok)
    }
}</code></pre></div>
<h3 id="ä½¿ç”¨for-rangeéå†"><a href="#ä½¿ç”¨for-rangeéå†" class="headerlink" title="ä½¿ç”¨for rangeéå†"></a>ä½¿ç”¨for rangeéå†</h3><p>ä½¿ç”¨for rangeï¼Œä¼šè‡ªåŠ¨åˆ¤æ–­ä¿¡é“æ˜¯å¦å·²ç»å…³é—­ï¼Œè‹¥å·²ç»å…³é—­ï¼Œåˆ™ä¼šè‡ªåŠ¨ç»“æŸå¾ªç¯</p>
<p>ä¸Šè¿°ä»£ç å¯ä»¥ä¿®æ”¹ä¸ºï¼š</p>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> <span class="hljs-string">"fmt"</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">producer</span><span class="hljs-params">(chnl <span class="hljs-keyword">chan</span> <span class="hljs-keyword">int</span>)</span></span> {  
    <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">10</span>; i++ {
        chnl &lt;- i
    }
    <span class="hljs-built_in">close</span>(chnl)
}
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {  
    ch := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-keyword">int</span>)
    <span class="hljs-keyword">go</span> producer(ch)
    <span class="hljs-keyword">for</span> v := <span class="hljs-keyword">range</span> ch {
        fmt.Println(<span class="hljs-string">"Received "</span>,v)
    }
}</code></pre></div>
<h2 id="ç¼“å†²ä¿¡é“å’Œå·¥ä½œæ± "><a href="#ç¼“å†²ä¿¡é“å’Œå·¥ä½œæ± " class="headerlink" title="ç¼“å†²ä¿¡é“å’Œå·¥ä½œæ± "></a>ç¼“å†²ä¿¡é“å’Œå·¥ä½œæ± </h2><h3 id="ç¼“å†²ä¿¡é“ç‰¹ç‚¹"><a href="#ç¼“å†²ä¿¡é“ç‰¹ç‚¹" class="headerlink" title="ç¼“å†²ä¿¡é“ç‰¹ç‚¹"></a>ç¼“å†²ä¿¡é“ç‰¹ç‚¹</h3><ul>
<li>åªæœ‰åœ¨ç¼“å†²å·²æ»¡çš„æƒ…å†µï¼Œæ‰ä¼šé˜»å¡å‘ç¼“å†²ä¿¡é“å‘é€æ•°æ®ã€‚</li>
<li>åªæœ‰åœ¨ç¼“å†²ä¸ºç©ºçš„æ—¶å€™ï¼Œæ‰ä¼šé˜»å¡ä»ç¼“å†²ä¿¡é“æ¥æ”¶æ•°æ®ã€‚</li>
</ul>
<h3 id="åˆ›å»ºç¼“å†²ä¿¡é“"><a href="#åˆ›å»ºç¼“å†²ä¿¡é“" class="headerlink" title="åˆ›å»ºç¼“å†²ä¿¡é“"></a>åˆ›å»ºç¼“å†²ä¿¡é“</h3><div class="hljs"><pre><code class="hljs go">ch := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-keyword">type</span>, capacity)</code></pre></div>
<p>å¦‚ï¼š</p>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (  
    <span class="hljs-string">"fmt"</span>
)


<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {  
    ch := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-keyword">string</span>, <span class="hljs-number">2</span>)
    ch &lt;- <span class="hljs-string">"naveen"</span>
    ch &lt;- <span class="hljs-string">"paul"</span>
    fmt.Println(&lt;- ch)
    fmt.Println(&lt;- ch)
}</code></pre></div>
<h3 id="waitGroupæ¥å®ç°å·¥ä½œæ± "><a href="#waitGroupæ¥å®ç°å·¥ä½œæ± " class="headerlink" title="waitGroupæ¥å®ç°å·¥ä½œæ± "></a>waitGroupæ¥å®ç°å·¥ä½œæ± </h3><p><code>WaitGroup</code> ç”¨äºç­‰å¾…ä¸€æ‰¹ Go åç¨‹æ‰§è¡Œç»“æŸã€‚ç¨‹åºæ§åˆ¶ä¼šä¸€ç›´é˜»å¡ï¼Œç›´åˆ°è¿™äº›åç¨‹å…¨éƒ¨æ‰§è¡Œå®Œæ¯•ã€‚</p>
<p><code>waitGroup</code>ä½¿ç”¨çš„åŸºæœ¬æµç¨‹</p>
<ul>
<li>é¦–å…ˆéœ€è¦è°ƒç”¨<code>sync</code>åŒ…</li>
<li>å£°æ˜ä¸€ä¸ªwaitGroupï¼š<code>var wg sync.WaitGroup</code></li>
<li>æ¯è¿è¡Œä¸€ä¸ªå­åç¨‹ï¼Œä¼ é€’intç»™<code>waitGroup</code>ï¼Œä½¿å…¶è®¡æ•°å™¨å¢åŠ ï¼š<code>wg.Add(1)</code></li>
<li>å–<code>waitGroup</code>çš„åœ°å€æ¥ä¼ é€’å‡½æ•°ï¼š<code>go process(i, &amp;wg)</code></li>
<li>æ¯ä¸€ä¸ªå­åç¨‹è¿è¡Œç»“æŸåï¼Œè®¡æ•°å™¨è‡ªå‡ï¼š<code>wg.Done()</code></li>
<li>å½“æ‰€æœ‰å­åç¨‹è¿è¡Œç»“æŸåï¼Œæ‰èƒ½ç»§ç»­è¿è¡Œï¼š<code>wg.Wait()</code></li>
</ul>
<p><strong>å·¥ä½œæ± çš„ä½œç”¨æ˜¯ä»€ä¹ˆå‘¢ï¼Ÿ</strong></p>
<p>åœ¨golangç¼–å†™æœåŠ¡ç¨‹åºè¿‡ç¨‹ä¸­ï¼Œå¦‚æœæ¯æ¬¡éƒ½å¯åŠ¨ä¸€ä¸ªgoroutineå»å¤„ç†ä»»åŠ¡ï¼Œå¤„ç†ä¸€ä¸ªä»»åŠ¡åå°±é€€å‡ºï¼Œè¿™æ ·åŠ¿å¿…ä¼šé€ æˆèµ„æºæµªè´¹ã€‚æ„å»ºä¸€ä¸ªå·¥ä½œgoroutineæ± æ¥å¤„ç†ä»»åŠ¡ç›¸å¯¹èµ„æºåˆ©ç”¨ä¼šå°‘äº›ï¼Œå…·ä½“çš„æƒ…å†µéœ€å¯¹æ¯”æµ‹è¯•ã€‚</p>
<p><strong>ç¤ºä¾‹</strong>ï¼Œä½¿ç”¨å·¥ä½œæ± æ¥è®¡ç®—ï¼Œæ¯ä¸ªéšæœºæ•°æ¯ä¸€ä½åŠ èµ·æ¥çš„å’Œï¼š</p>
<p>è¿™é‡Œå·¥ä½œæ± çš„ä½œç”¨æ˜¯ï¼š</p>
<ul>
<li>åˆ›å»ºä¸€ä¸ª Go åç¨‹æ± ï¼Œç›‘å¬ä¸€ä¸ªç­‰å¾…ä½œä¸šåˆ†é…çš„è¾“å…¥å‹ç¼“å†²ä¿¡é“ã€‚</li>
<li>å°†ä½œä¸šæ·»åŠ åˆ°è¯¥è¾“å…¥å‹ç¼“å†²ä¿¡é“ä¸­ã€‚</li>
<li>ä½œä¸šå®Œæˆåï¼Œå†å°†ç»“æœå†™å…¥ä¸€ä¸ªè¾“å‡ºå‹ç¼“å†²ä¿¡é“ã€‚</li>
<li>ä»è¾“å‡ºå‹ç¼“å†²ä¿¡é“è¯»å–å¹¶æ‰“å°ç»“æœã€‚</li>
</ul>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (  
    <span class="hljs-string">"fmt"</span>
    <span class="hljs-string">"math/rand"</span>
    <span class="hljs-string">"sync"</span>
    <span class="hljs-string">"time"</span>
)

<span class="hljs-keyword">type</span> Job <span class="hljs-keyword">struct</span> {  
    id       <span class="hljs-keyword">int</span>
    randomno <span class="hljs-keyword">int</span>
}
<span class="hljs-keyword">type</span> Result <span class="hljs-keyword">struct</span> {  
    job         Job
    sumofdigits <span class="hljs-keyword">int</span>
}

<span class="hljs-keyword">var</span> jobs = <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> Job, <span class="hljs-number">10</span>)  
<span class="hljs-keyword">var</span> results = <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> Result, <span class="hljs-number">10</span>)
<span class="hljs-comment">//å¯¹ä¸€ä¸ªæ•°å­—çš„æ¯ä½æ•°æ±‚å’Œ</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">digits</span><span class="hljs-params">(number <span class="hljs-keyword">int</span>)</span> <span class="hljs-title">int</span></span> {  
    sum := <span class="hljs-number">0</span>
    no := number
    <span class="hljs-keyword">for</span> no != <span class="hljs-number">0</span> {
        digit := no % <span class="hljs-number">10</span>
        sum += digit
        no /= <span class="hljs-number">10</span>
    }
    time.Sleep(<span class="hljs-number">2</span> * time.Second)
    <span class="hljs-keyword">return</span> sum
}
<span class="hljs-comment">//è°ƒç”¨digitså‡½æ•°ï¼Œå°†ç»“æ„ä½“è¾“å…¥åˆ°resultsä¿¡é“ä¸­ï¼Œå¹¶ä¸”waitGroupçš„è®¡æ•°å™¨å‡ä¸€</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">worker</span><span class="hljs-params">(wg *sync.WaitGroup)</span></span> {  
    <span class="hljs-keyword">for</span> job := <span class="hljs-keyword">range</span> jobs {
        output := Result{job, digits(job.randomno)}
        results &lt;- output
    }
    wg.Done()
}
<span class="hljs-comment">//åˆ›å»ºå·¥ä½œæ± ï¼Œè°ƒç”¨workerå‡½æ•°ï¼ˆè¿›è¡Œè®¡ç®—å¹¶è¾“å‡ºï¼‰ï¼Œå½“æ‰€æœ‰goç¨‹éƒ½è¿è¡Œç»“æŸåæ‰åœæ­¢</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">createWorkerPool</span><span class="hljs-params">(noOfWorkers <span class="hljs-keyword">int</span>)</span></span> {  
    <span class="hljs-keyword">var</span> wg sync.WaitGroup
    <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; noOfWorkers; i++ {
        wg.Add(<span class="hljs-number">1</span>)
        <span class="hljs-keyword">go</span> worker(&amp;wg)
    }
    wg.Wait()
    <span class="hljs-built_in">close</span>(results)
}
<span class="hljs-comment">//åˆå§‹åŒ–ï¼Œç”Ÿæˆéšæœºæ•°å¹¶ä¸”è¾“å…¥åˆ°jobsä¿¡é“ä¸­</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">allocate</span><span class="hljs-params">(noOfJobs <span class="hljs-keyword">int</span>)</span></span> {  
    <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; noOfJobs; i++ {
        randomno := rand.Intn(<span class="hljs-number">999</span>)
        job := Job{i, randomno}
        jobs &lt;- job
    }
    <span class="hljs-built_in">close</span>(jobs)<span class="hljs-comment">//å…³é—­ä¿¡é“ï¼Œå‘Šè¯‰æ¥æ”¶æ–¹ä¸å†æœ‰æ•°æ®å‘æ¥</span>
}
<span class="hljs-comment">//è¾“å‡ºç»“æœï¼Œå½“å…¨éƒ¨è¾“å‡ºå®Œæˆåï¼Œdoneä¿¡é“æ‰ä¼šæ¥æ”¶trueä¿¡æ¯ï¼Œä¸»goç¨‹&lt;-doneæ‰èƒ½è¿è¡Œã€‚è¿™æ˜¯ç”¨æ¥é¿å…è¿‡æ—©åœ°ç»“æŸä¸»ç¨‹åºã€‚</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">result</span><span class="hljs-params">(done <span class="hljs-keyword">chan</span> <span class="hljs-keyword">bool</span>)</span></span> {  
    <span class="hljs-keyword">for</span> result := <span class="hljs-keyword">range</span> results {
        fmt.Printf(<span class="hljs-string">"Job id %d, input random no %d , sum of digits %d\n"</span>, result.job.id, result.job.randomno, result.sumofdigits)
    }
    done &lt;- <span class="hljs-literal">true</span>
}
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {  
    startTime := time.Now()
    noOfJobs := <span class="hljs-number">20</span>
    <span class="hljs-keyword">go</span> allocate(noOfJobs)
    done := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-keyword">bool</span>)
    <span class="hljs-keyword">go</span> result(done)
    noOfWorkers := <span class="hljs-number">10</span>
    createWorkerPool(noOfWorkers)
    <span class="hljs-comment">//go result(done)ä¹Ÿå¯ä»¥æ”¾åœ¨è¿™é‡Œï¼Œæ²¡æœ‰å½±å“</span>
    &lt;-done
    endTime := time.Now()
    diff := endTime.Sub(startTime)
    fmt.Println(<span class="hljs-string">"total time taken "</span>, diff.Seconds(), <span class="hljs-string">"seconds"</span>)
}</code></pre></div>
<p>è¾“å‡ºå¦‚ä¸‹ï¼š</p>
<div class="hljs"><pre><code class="hljs yaml"><span class="hljs-string">Job</span> <span class="hljs-string">id</span> <span class="hljs-number">3</span><span class="hljs-string">,</span> <span class="hljs-string">input</span> <span class="hljs-string">random</span> <span class="hljs-literal">no</span> <span class="hljs-number">983</span> <span class="hljs-string">,</span> <span class="hljs-string">sum</span> <span class="hljs-string">of</span> <span class="hljs-string">digits</span> <span class="hljs-number">20</span>
<span class="hljs-string">Job</span> <span class="hljs-string">id</span> <span class="hljs-number">1</span><span class="hljs-string">,</span> <span class="hljs-string">input</span> <span class="hljs-string">random</span> <span class="hljs-literal">no</span> <span class="hljs-number">636</span> <span class="hljs-string">,</span> <span class="hljs-string">sum</span> <span class="hljs-string">of</span> <span class="hljs-string">digits</span> <span class="hljs-number">15</span>
<span class="hljs-string">Job</span> <span class="hljs-string">id</span> <span class="hljs-number">7</span><span class="hljs-string">,</span> <span class="hljs-string">input</span> <span class="hljs-string">random</span> <span class="hljs-literal">no</span> <span class="hljs-number">998</span> <span class="hljs-string">,</span> <span class="hljs-string">sum</span> <span class="hljs-string">of</span> <span class="hljs-string">digits</span> <span class="hljs-number">26</span>
<span class="hljs-string">Job</span> <span class="hljs-string">id</span> <span class="hljs-number">0</span><span class="hljs-string">,</span> <span class="hljs-string">input</span> <span class="hljs-string">random</span> <span class="hljs-literal">no</span> <span class="hljs-number">878</span> <span class="hljs-string">,</span> <span class="hljs-string">sum</span> <span class="hljs-string">of</span> <span class="hljs-string">digits</span> <span class="hljs-number">23</span>
<span class="hljs-string">Job</span> <span class="hljs-string">id</span> <span class="hljs-number">5</span><span class="hljs-string">,</span> <span class="hljs-string">input</span> <span class="hljs-string">random</span> <span class="hljs-literal">no</span> <span class="hljs-number">735</span> <span class="hljs-string">,</span> <span class="hljs-string">sum</span> <span class="hljs-string">of</span> <span class="hljs-string">digits</span> <span class="hljs-number">15</span>
<span class="hljs-string">Job</span> <span class="hljs-string">id</span> <span class="hljs-number">2</span><span class="hljs-string">,</span> <span class="hljs-string">input</span> <span class="hljs-string">random</span> <span class="hljs-literal">no</span> <span class="hljs-number">407</span> <span class="hljs-string">,</span> <span class="hljs-string">sum</span> <span class="hljs-string">of</span> <span class="hljs-string">digits</span> <span class="hljs-number">11</span>
<span class="hljs-string">Job</span> <span class="hljs-string">id</span> <span class="hljs-number">9</span><span class="hljs-string">,</span> <span class="hljs-string">input</span> <span class="hljs-string">random</span> <span class="hljs-literal">no</span> <span class="hljs-number">150</span> <span class="hljs-string">,</span> <span class="hljs-string">sum</span> <span class="hljs-string">of</span> <span class="hljs-string">digits</span> <span class="hljs-number">6</span>
<span class="hljs-string">Job</span> <span class="hljs-string">id</span> <span class="hljs-number">8</span><span class="hljs-string">,</span> <span class="hljs-string">input</span> <span class="hljs-string">random</span> <span class="hljs-literal">no</span> <span class="hljs-number">904</span> <span class="hljs-string">,</span> <span class="hljs-string">sum</span> <span class="hljs-string">of</span> <span class="hljs-string">digits</span> <span class="hljs-number">13</span>
<span class="hljs-string">Job</span> <span class="hljs-string">id</span> <span class="hljs-number">6</span><span class="hljs-string">,</span> <span class="hljs-string">input</span> <span class="hljs-string">random</span> <span class="hljs-literal">no</span> <span class="hljs-number">520</span> <span class="hljs-string">,</span> <span class="hljs-string">sum</span> <span class="hljs-string">of</span> <span class="hljs-string">digits</span> <span class="hljs-number">7</span>
<span class="hljs-string">Job</span> <span class="hljs-string">id</span> <span class="hljs-number">4</span><span class="hljs-string">,</span> <span class="hljs-string">input</span> <span class="hljs-string">random</span> <span class="hljs-literal">no</span> <span class="hljs-number">895</span> <span class="hljs-string">,</span> <span class="hljs-string">sum</span> <span class="hljs-string">of</span> <span class="hljs-string">digits</span> <span class="hljs-number">22</span>
<span class="hljs-string">Job</span> <span class="hljs-string">id</span> <span class="hljs-number">19</span><span class="hljs-string">,</span> <span class="hljs-string">input</span> <span class="hljs-string">random</span> <span class="hljs-literal">no</span> <span class="hljs-number">914</span> <span class="hljs-string">,</span> <span class="hljs-string">sum</span> <span class="hljs-string">of</span> <span class="hljs-string">digits</span> <span class="hljs-number">14</span>
<span class="hljs-string">Job</span> <span class="hljs-string">id</span> <span class="hljs-number">10</span><span class="hljs-string">,</span> <span class="hljs-string">input</span> <span class="hljs-string">random</span> <span class="hljs-literal">no</span> <span class="hljs-number">212</span> <span class="hljs-string">,</span> <span class="hljs-string">sum</span> <span class="hljs-string">of</span> <span class="hljs-string">digits</span> <span class="hljs-number">5</span>
<span class="hljs-string">Job</span> <span class="hljs-string">id</span> <span class="hljs-number">17</span><span class="hljs-string">,</span> <span class="hljs-string">input</span> <span class="hljs-string">random</span> <span class="hljs-literal">no</span> <span class="hljs-number">506</span> <span class="hljs-string">,</span> <span class="hljs-string">sum</span> <span class="hljs-string">of</span> <span class="hljs-string">digits</span> <span class="hljs-number">11</span>
<span class="hljs-string">Job</span> <span class="hljs-string">id</span> <span class="hljs-number">11</span><span class="hljs-string">,</span> <span class="hljs-string">input</span> <span class="hljs-string">random</span> <span class="hljs-literal">no</span> <span class="hljs-number">538</span> <span class="hljs-string">,</span> <span class="hljs-string">sum</span> <span class="hljs-string">of</span> <span class="hljs-string">digits</span> <span class="hljs-number">16</span>
<span class="hljs-string">Job</span> <span class="hljs-string">id</span> <span class="hljs-number">12</span><span class="hljs-string">,</span> <span class="hljs-string">input</span> <span class="hljs-string">random</span> <span class="hljs-literal">no</span> <span class="hljs-number">750</span> <span class="hljs-string">,</span> <span class="hljs-string">sum</span> <span class="hljs-string">of</span> <span class="hljs-string">digits</span> <span class="hljs-number">12</span>
<span class="hljs-string">Job</span> <span class="hljs-string">id</span> <span class="hljs-number">16</span><span class="hljs-string">,</span> <span class="hljs-string">input</span> <span class="hljs-string">random</span> <span class="hljs-literal">no</span> <span class="hljs-number">630</span> <span class="hljs-string">,</span> <span class="hljs-string">sum</span> <span class="hljs-string">of</span> <span class="hljs-string">digits</span> <span class="hljs-number">9</span>
<span class="hljs-string">Job</span> <span class="hljs-string">id</span> <span class="hljs-number">15</span><span class="hljs-string">,</span> <span class="hljs-string">input</span> <span class="hljs-string">random</span> <span class="hljs-literal">no</span> <span class="hljs-number">215</span> <span class="hljs-string">,</span> <span class="hljs-string">sum</span> <span class="hljs-string">of</span> <span class="hljs-string">digits</span> <span class="hljs-number">8</span>
<span class="hljs-string">Job</span> <span class="hljs-string">id</span> <span class="hljs-number">18</span><span class="hljs-string">,</span> <span class="hljs-string">input</span> <span class="hljs-string">random</span> <span class="hljs-literal">no</span> <span class="hljs-number">20</span> <span class="hljs-string">,</span> <span class="hljs-string">sum</span> <span class="hljs-string">of</span> <span class="hljs-string">digits</span> <span class="hljs-number">2</span>
<span class="hljs-string">Job</span> <span class="hljs-string">id</span> <span class="hljs-number">13</span><span class="hljs-string">,</span> <span class="hljs-string">input</span> <span class="hljs-string">random</span> <span class="hljs-literal">no</span> <span class="hljs-number">362</span> <span class="hljs-string">,</span> <span class="hljs-string">sum</span> <span class="hljs-string">of</span> <span class="hljs-string">digits</span> <span class="hljs-number">11</span>
<span class="hljs-string">Job</span> <span class="hljs-string">id</span> <span class="hljs-number">14</span><span class="hljs-string">,</span> <span class="hljs-string">input</span> <span class="hljs-string">random</span> <span class="hljs-literal">no</span> <span class="hljs-number">436</span> <span class="hljs-string">,</span> <span class="hljs-string">sum</span> <span class="hljs-string">of</span> <span class="hljs-string">digits</span> <span class="hljs-number">13</span>
<span class="hljs-string">total</span> <span class="hljs-string">time</span> <span class="hljs-string">taken</span>  <span class="hljs-number">4.0083858</span> <span class="hljs-string">seconds</span></code></pre></div>
<h2 id="Select"><a href="#Select" class="headerlink" title="Select"></a>Select</h2><p>ç›´æ¥æ¥çœ‹ä¸€ä¸‹å‚è€ƒç¨‹åº</p>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (  
    <span class="hljs-string">"fmt"</span>
    <span class="hljs-string">"time"</span>
)

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">server1</span><span class="hljs-params">( str1 <span class="hljs-keyword">chan</span> <span class="hljs-keyword">string</span>)</span></span>{
    time.Sleep(<span class="hljs-number">3</span>*time.Second)
    str1 &lt;- <span class="hljs-string">"message from server1"</span>
}
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">server2</span><span class="hljs-params">( str2 <span class="hljs-keyword">chan</span> <span class="hljs-keyword">string</span>)</span></span>{
    time.Sleep(<span class="hljs-number">1</span>*time.Second)
    str2 &lt;- <span class="hljs-string">"message from server2"</span>
}
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
    output1 := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-keyword">string</span>)
    output2 := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-keyword">string</span>)
    <span class="hljs-keyword">go</span> server1(output1)
    <span class="hljs-keyword">go</span> server2(output2)
    <span class="hljs-keyword">select</span> {
    <span class="hljs-keyword">case</span> s1 := &lt;- output1:
        fmt.Println(s1)
    <span class="hljs-keyword">case</span> s2 := &lt;- output2:
        fmt.Println(s2)
    }
}</code></pre></div>
<p>è¾“å‡ºï¼š</p>
<div class="hljs"><pre><code class="hljs sas"><span class="hljs-meta">message</span> <span class="hljs-meta">from</span> server2</code></pre></div>
<p>ä¸»ç¨‹åºå½“è¿è¡Œåˆ°<code>select</code>å°±ä¼šä¸€ç›´é˜»å¡ï¼Œç›´åˆ°å‡ºç°ç¬¦åˆè¦æ±‚çš„<code>case</code>å‡ºç°ã€‚ç”±äº<code>server1</code>å»¶è¿Ÿ3ç§’ï¼Œ<code>server2</code>å»¶è¿Ÿ1ç§’ï¼Œæ‰€ä»¥<code>select</code>ä¼šå…ˆæ¥æ”¶åˆ°ä¿¡é“<code>output2</code>ï¼Œè¿›è¡Œè¾“å‡ºåï¼Œç¨‹åºç»“æŸã€‚ï¼ˆä¸ä¼šç®¡<code>server1</code>å•¦ï¼‰</p>
<p>è¿™æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿå‡è®¾æˆ‘ä»¬ç°åœ¨å‘ä¸¤å°æœåŠ¡å™¨å‘é€ç”³è¯·ï¼Œå¹¶ç­‰å¾…å®ƒä»¬çš„å›å¤ã€‚ä¸ºäº†èŠ‚çœæ—¶é—´ï¼Œå½“æˆ‘ä»¬æ¥æ”¶åˆ°æœ€å¿«çš„å›å¤æ—¶ï¼Œå°±ç»§ç»­æ¥ä¸‹æ¥çš„æ­¥éª¤ã€‚è¿™å¯ä»¥ä½¿ååº”è¾¾åˆ°æœ€å¿«çš„é€Ÿåº¦ã€‚</p>
<div class="note note-success">
            <p>ç±»ä¼¼äºswitchï¼Œä½¿ç”¨defaultå…³é”®å­—æ¥è¡¨ç¤ºé»˜è®¤çš„æƒ…å†µã€‚å¯ç”¨æ¥é¿å…æ­»é”çš„å‡ºç°ã€‚</p><p>ï¼ï¼ï¼å½“ä¿¡é“ä»…å«æœ‰nilæ—¶ï¼Œä¹Ÿä¼šè§¦å‘<code>dafault</code>ï¼ï¼ï¼</p>
          </div>
<h3 id="éšæœºé€‰å–"><a href="#éšæœºé€‰å–" class="headerlink" title="éšæœºé€‰å–"></a>éšæœºé€‰å–</h3><p>å½“å¤šä¸ªcaseè¢«åŒæ—¶é€‰å–æ—¶ï¼Œä¼šéšæœºé€‰æ‹©ä¸€ä¸ªå»æ‰§è¡Œã€‚</p>
<p>ä¸‹é¢è¿™ä¸ªç¨‹åºä½¿ç”¨äº†å»¶è¿Ÿä¸€ç§’æ¥åŒæ­¥ä¸¤ä¸ªgoåç¨‹ã€‚</p>
<p>è¾“å‡ºç»“æœæ˜¯<code>from server1</code>å’Œ<code>from server2</code>ä¸¤ç§éƒ½æœ‰å¯èƒ½ã€‚</p>
<div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (  
    <span class="hljs-string">"fmt"</span>
    <span class="hljs-string">"time"</span>
)

<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">server1</span><span class="hljs-params">(ch <span class="hljs-keyword">chan</span> <span class="hljs-keyword">string</span>)</span></span> {  
    ch &lt;- <span class="hljs-string">"from server1"</span>
}
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">server2</span><span class="hljs-params">(ch <span class="hljs-keyword">chan</span> <span class="hljs-keyword">string</span>)</span></span> {  
    ch &lt;- <span class="hljs-string">"from server2"</span>

}
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span> {  
    output1 := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-keyword">string</span>)
    output2 := <span class="hljs-built_in">make</span>(<span class="hljs-keyword">chan</span> <span class="hljs-keyword">string</span>)
    <span class="hljs-keyword">go</span> server1(output1)
    <span class="hljs-keyword">go</span> server2(output2)
    time.Sleep(<span class="hljs-number">1</span> * time.Second)
    <span class="hljs-keyword">select</span> {
    <span class="hljs-keyword">case</span> s1 := &lt;-output1:
        fmt.Println(s1)
    <span class="hljs-keyword">case</span> s2 := &lt;-output2:
        fmt.Println(s2)
    }
}</code></pre></div>
<h2 id="Mutex"><a href="#Mutex" class="headerlink" title="Mutex"></a>Mutex</h2><div class="hljs"><pre><code class="hljs go"><span class="hljs-keyword">package</span> main

<span class="hljs-keyword">import</span> (  
    <span class="hljs-string">"fmt"</span>
    <span class="hljs-string">"sync"</span>
)
<span class="hljs-keyword">var</span> x = <span class="hljs-number">0</span>
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">increment</span><span class="hljs-params">(wg *sync.WaitGroup)</span></span>{
    x++
    wg.Done()
}
<span class="hljs-function"><span class="hljs-keyword">func</span> <span class="hljs-title">main</span><span class="hljs-params">()</span></span>{
    <span class="hljs-keyword">var</span> wg sync.WaitGroup
    <span class="hljs-keyword">for</span> i := <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">1000</span>; i++ {
        wg.Add(<span class="hljs-number">1</span>)
        <span class="hljs-keyword">go</span> increment(&amp;wg)
    }
    wg.Wait()
    fmt.Println(x)
}</code></pre></div>
<p>è¾“å‡ºï¼š</p>
<div class="hljs"><pre><code class="hljs angelscript"><span class="hljs-number">982</span>/<span class="hljs-number">984</span>/<span class="hljs-number">992</span></code></pre></div>
<h3 id="ä½¿ç”¨mutexè§£å†³ä¸´ç•ŒåŒºé—®é¢˜"><a href="#ä½¿ç”¨mutexè§£å†³ä¸´ç•ŒåŒºé—®é¢˜" class="headerlink" title="ä½¿ç”¨mutexè§£å†³ä¸´ç•ŒåŒºé—®é¢˜"></a><strong>ä½¿ç”¨mutexè§£å†³ä¸´ç•ŒåŒºé—®é¢˜</strong></h3><p>å¤–éƒ¨å®šä¹‰äº’æ–¥é”<code>var m sync.Mutex</code></p>
<div class="hljs"><pre><code class="hljs go">m.Lock()
x++
m.Unlock()</code></pre></div>
<p>è¾“å‡ºï¼š</p>
<div class="hljs"><pre><code class="hljs angelscript"><span class="hljs-number">1000</span></code></pre></div>
<h3 id="ä½¿ç”¨ä¿¡é“è§£å†³ä¸´ç•ŒåŒºé—®é¢˜"><a href="#ä½¿ç”¨ä¿¡é“è§£å†³ä¸´ç•ŒåŒºé—®é¢˜" class="headerlink" title="ä½¿ç”¨ä¿¡é“è§£å†³ä¸´ç•ŒåŒºé—®é¢˜"></a>ä½¿ç”¨ä¿¡é“è§£å†³ä¸´ç•ŒåŒºé—®é¢˜</h3><div class="hljs"><pre><code class="hljs go">ch &lt;- <span class="hljs-literal">true</span>
x++
&lt;- ch</code></pre></div>
<p>è¾“å‡ºï¼š</p>
<div class="hljs"><pre><code class="hljs angelscript"><span class="hljs-number">1000</span></code></pre></div>
<div class="note note-success">
            <p>å…³äºäº’æ–¥é”å’Œä¿¡é“çš„é€‰æ‹©é—®é¢˜ã€‚</p><p>å½“ Go åç¨‹éœ€è¦ä¸å…¶ä»–åç¨‹é€šä¿¡æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ä¿¡é“ã€‚è€Œå½“åªå…è®¸ä¸€ä¸ªåç¨‹è®¿é—®ä¸´ç•ŒåŒºæ—¶ï¼Œå¯ä»¥ä½¿ç”¨ Mutexã€‚</p>
          </div>
<h1 id="å‚è€ƒèµ„æ–™"><a href="#å‚è€ƒèµ„æ–™" class="headerlink" title="å‚è€ƒèµ„æ–™"></a>å‚è€ƒèµ„æ–™</h1><p><a target="_blank" rel="noopener" href="https://www.runoob.com/go">https://www.runoob.com/go</a></p>
<p><a target="_blank" rel="noopener" href="https://tour.go-zh.org/">https://tour.go-zh.org/</a></p>
<p><a target="_blank" rel="noopener" href="https://studygolang.com/subject/2">https://studygolang.com/subject/2</a></p>

            </div>
            <hr>
            <div>
              <div class="post-metas mb-3">
                
                
                  <div class="post-meta">
                    <i class="iconfont icon-tags"></i>
                    
                      <a class="hover-with-bg" href="/Wuhlan3/tags/Go/">Go</a>
                    
                      <a class="hover-with-bg" href="/Wuhlan3/tags/%E5%90%8E%E7%AB%AF/">åç«¯</a>
                    
                  </div>
                
              </div>
              
                <p class="note note-warning">æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 åè®®</a> ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼</p>
              
              
                <div class="post-prevnext row">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/Wuhlan3/2021/12/07/%E7%BE%8A%E8%B9%84%E7%94%B2/">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">ç¾Šè¹„ç”²</span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/Wuhlan3/2021/09/30/HPClab2/">
                        <span class="hidden-mobile">HPClab2</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
              <!-- Comments -->
              <article class="comments" id="comments">
                
                
  <div id="vcomments"></div>
  <script type="text/javascript">
    function loadValine() {
      addScript('https://cdn.staticfile.org/valine/1.4.14/Valine.min.js', function () {
        new Valine({
          el: "#vcomments",
          app_id: "axCnS3N1SdDpQJXUqoj3cAOx-gzGzoHsz",
          app_key: "xM5uBUb3rHXweg6vxqQBs0YV",
          placeholder: "å¿«æ¥è¡¨æ‰¬ä¸€ä¸‹æˆ‘å§(^_^)ï¼ï¼ï¼ï¼ˆé‚®ç®±ä¼šä¿å¯†çš„ï¼Œè¯·æ”¾å¿ƒå¡«å†™ï¼Œå½“ç„¶ä¹Ÿå¯ä»¥ä¸å¡«ï¼‰",
          path: window.location.pathname,
          avatar: "hide",
          meta: ["nick","mail","link"],
          pageSize: "10",
          lang: "zh-CN",
          highlight: true,
          recordIP: false,
          serverURLs: "",
        });
      });
    }
    waitElementVisible('vcomments', loadValine);
  </script>
  <noscript>Please enable JavaScript to view the <a target="_blank" href="https://valine.js.org" rel="nofollow noopener noopener">comments
      powered by Valine.</a></noscript>


              </article>
            
          </article>
        </div>
      </div>
    </div>
    
      <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
        <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;TOC</p>
  <div id="tocbot"></div>
</div>

      </div>
    
  </div>
</div>

<!-- Custom -->


    
  </main>

  
    <a id="scroll-top-button" href="#" role="button">
      <i class="iconfont icon-arrowup" aria-hidden="true"></i>
    </a>
  

  
    <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
  

  
    <!-- APlayer éŸ³ä¹æ’­æ”¾å™¨ -->
    <div id="aplayer"></div>
    <script defer src="https://cdn.staticfile.org/aplayer/1.10.1/APlayer.min.js" ></script>
<link  rel="stylesheet" href="https://cdn.staticfile.org/aplayer/1.10.1/APlayer.min.css" />
<script type="text/javascript">
  var oldLoadAp = window.onload;
  window.onload = function () {
    oldLoadAp && oldLoadAp();

    new APlayer({
      container: document.getElementById('aplayer'),
      fixed: true,
      autoplay: 'false' === 'true',
      loop: 'all',
      order: 'random',
      theme: '#b7daff',
      preload: 'none',
      audio: [{"name":"Flaming","artist":"éƒ‘æ™Ÿæ²³","url":"/Wuhlan3/mp3/song1.mp3","cover":"/Wuhlan3/img/song1.jpg"},{"name":"æµã‚Œè¡Œãé›²","artist":"å²¸éƒ¨çœŸæ˜","url":"/Wuhlan3/mp3/song2.m4a","cover":"/Wuhlan3/img/song2.jpg"},{"name":"å¥‡è¿¹ã®å±±","artist":"å²¸éƒ¨çœŸæ˜","url":"/Wuhlan3/mp3/song3.m4a","cover":"/Wuhlan3/img/song2.jpg"},{"name":"Sunflower","artist":"å­™åŸ¹åš","url":"/Wuhlan3/mp3/song5.mp3","cover":"/Wuhlan3/img/song3.jpg"},{"name":"å°‘å¹´ã®æ¢¦","artist":"å²¸éƒ¨çœŸæ˜","url":"/Wuhlan3/mp3/song4.m4a","cover":"/Wuhlan3/img/song2.jpg"},{"name":"like a star","artist":"Youngso Kim","url":"/Wuhlan3/mp3/like a star.mp3","cover":"/Wuhlan3/img/like a star.jpg"},{"name":"å¢ƒ","artist":"åˆ˜å˜‰å“","url":"/Wuhlan3/mp3/å¢ƒ.mp3","cover":"/Wuhlan3/img/åˆ˜å˜‰å“.jpg"},{"name":"ç¿¼~you are the HERO~","artist":"æŠ¼å°¾ã‚³ãƒ¼ã‚¿ãƒ­ãƒ¼","url":"/Wuhlan3/mp3/wings.mp3","cover":"/Wuhlan3/img/æŠ¼å°¾.jpg"}]
    });
  }
</script>

  

  

  <footer class="mt-5">
  <div class="text-center py-3">
    <div>
      <a href="https://hexo.io" target="_blank" rel="nofollow noopener"><span>Hexo</span></a>
      <i class="iconfont icon-love"></i>
      <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener">
        <span>Fluid</span></a>
    </div>
    
  <div class="statistics">
    
    

    
      
        <!-- LeanCloud ç»Ÿè®¡PV -->
        <span id="leancloud-site-pv-container" style="display: none">
            æ€»è®¿é—®é‡ 
            <span id="leancloud-site-pv"></span>
             æ¬¡
          </span>
      
      
        <!-- LeanCloud ç»Ÿè®¡UV -->
        <span id="leancloud-site-uv-container" style="display: none">
            æ€»è®¿å®¢æ•° 
            <span id="leancloud-site-uv"></span>
             äºº
          </span>
      

    
  </div>


    

    
  </div>
</footer>

<!-- SCRIPTS -->
<script  src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js" ></script>
<script  src="https://cdn.staticfile.org/twitter-bootstrap/4.4.1/js/bootstrap.min.js" ></script>
<script  src="/Wuhlan3/js/debouncer.js" ></script>
<script  src="/Wuhlan3/js/main.js" ></script>

<!-- Plugins -->


  
    <script  src="/Wuhlan3/js/lazyload.js" ></script>
  



  



  <script defer src="https://cdn.staticfile.org/clipboard.js/2.0.6/clipboard.min.js" ></script>
  <script  src="/Wuhlan3/js/clipboard-use.js" ></script>



  <script defer>
  (function () {
    // æŸ¥è¯¢å­˜å‚¨çš„è®°å½•
    function getRecord(Counter, target) {
      return new Promise(function (resolve, reject) {
        Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({target})))
          .then(resp => resp.json())
          .then(({results, code, error}) => {
            if (code === 401) {
              throw error;
            }
            if (results && results.length > 0) {
              var record = results[0];
              resolve(record);
            } else {
              Counter('post', '/classes/Counter', {target, time: 0})
                .then(resp => resp.json())
                .then((record, error) => {
                  if (error) {
                    throw error;
                  }
                  resolve(record);
                }).catch(error => {
                console.error('Failed to create', error);
                reject(error);
              });
            }
          }).catch((error) => {
          console.error('LeanCloud Counter Error:', error);
          reject(error);
        });
      })
    }

    // å‘èµ·è‡ªå¢è¯·æ±‚
    function increment(Counter, incrArr) {
      return new Promise(function (resolve, reject) {
        Counter('post', '/batch', {
          "requests": incrArr
        }).then((res) => {
          res = res.json();
          if (res.error) {
            throw res.error;
          }
          resolve(res);
        }).catch((error) => {
          console.error('Failed to save visitor count', error);
          reject(error);
        });
      });
    }

    // æ„å»ºè‡ªå¢è¯·æ±‚ä½“
    function buildIncrement(objectId) {
      return {
        "method": "PUT",
        "path": `/1.1/classes/Counter/${ objectId }`,
        "body": {
          "time": {
            '__op': 'Increment',
            'amount': 1
          }
        }
      }
    }

    // æ ¡éªŒæ˜¯å¦ä¸ºæœ‰æ•ˆçš„ UV
    function validUV() {
      var key = 'LeanCloud_UV_Flag';
      var flag = localStorage.getItem(key);
      if (flag) {
        // è·ç¦»æ ‡è®°å°äº 24 å°æ—¶åˆ™ä¸è®¡ä¸º UV
        if (new Date().getTime() - parseInt(flag) <= 86400000) {
          return false;
        }
      }
      localStorage.setItem(key, new Date().getTime().toString());
      return true;
    }

    function addCount(Counter) {
      var enableIncr = 'true' === 'true' && window.location.hostname !== 'localhost';
      var getterArr = [];
      var incrArr = [];

      // è¯·æ±‚ PV å¹¶è‡ªå¢
      var pvCtn = document.querySelector('#leancloud-site-pv-container');
      if (pvCtn || enableIncr) {
        var pvGetter = getRecord(Counter, 'site-pv').then((record) => {
          incrArr.push(buildIncrement(record.objectId))
          var ele = document.querySelector('#leancloud-site-pv');
          if (ele) {
            ele.innerText = record.time + 1;
            if (pvCtn) {
              pvCtn.style.display = 'inline';
            }
          }
        });
        getterArr.push(pvGetter);
      }

      // è¯·æ±‚ UV å¹¶è‡ªå¢
      var uvCtn = document.querySelector('#leancloud-site-uv-container');
      if (uvCtn || enableIncr) {
        var uvGetter = getRecord(Counter, 'site-uv').then((record) => {
          var vuv = validUV();
          vuv && incrArr.push(buildIncrement(record.objectId))
          var ele = document.querySelector('#leancloud-site-uv');
          if (ele) {
            ele.innerText = record.time + (vuv ? 1 : 0);
            if (uvCtn) {
              uvCtn.style.display = 'inline';
            }
          }
        });
        getterArr.push(uvGetter);
      }

      // å¦‚æœæ˜¯æ–‡ç« ï¼Œè¯·æ±‚æ–‡ç« çš„æµè§ˆæ•°ï¼Œå¹¶è‡ªå¢
      if ('true' === 'true') {
        var viewCtn = document.querySelector('#leancloud-post-views-container');
        if (viewCtn || enableIncr) {
          var target = decodeURI('/Wuhlan3/2021/10/08/Go%E5%AD%A6%E4%B9%A0%E4%B9%8B%E8%B7%AF/');
          var viewGetter = getRecord(Counter, target).then((record) => {
            incrArr.push(buildIncrement(record.objectId))
            if (viewCtn) {
              var ele = document.querySelector('#leancloud-post-views');
              if (ele) {
                ele.innerText = (record.time || 0) + 1;
                viewCtn.style.display = 'inline';
              }
            }
          });
          getterArr.push(viewGetter);
        }
      }

      // å¦‚æœå¯åŠ¨è®¡æ•°è‡ªå¢ï¼Œæ‰¹é‡å‘èµ·è‡ªå¢è¯·æ±‚
      if (enableIncr) {
        Promise.all(getterArr).then(() => {
          incrArr.length > 0 && increment(Counter, incrArr);
        })
      }
    }

    var app_id = 'axCnS3N1SdDpQJXUqoj3cAOx-gzGzoHsz'
    var app_key = 'xM5uBUb3rHXweg6vxqQBs0YV'
    var server_url = ''

    function fetchData(api_server) {
      var Counter = (method, url, data) => {
        return fetch(`${ api_server }/1.1${ url }`, {
          method,
          headers: {
            'X-LC-Id': app_id,
            'X-LC-Key': app_key,
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };

      addCount(Counter);
    }

    var api_server = app_id.slice(-9) !== '-MdYXbMMI' ? server_url : `https://${ app_id.slice(0, 8).toLowerCase() }.api.lncldglobal.com`;

    if (api_server) {
      fetchData(api_server);
    } else {
      fetch('https://app-router.leancloud.cn/2/route?appId=' + app_id)
        .then(resp => resp.json())
        .then(({api_server}) => {
          fetchData('https://' + api_server);
        });
    }
  })();
</script>




  
<script src="/Wuhlan3/js/dongtaicaidai.js"></script>




  <script  src="https://cdn.staticfile.org/tocbot/4.11.1/tocbot.min.js" ></script>
  <script>
    $(document).ready(function () {
      var boardCtn = $('#board-ctn');
      var boardTop = boardCtn.offset().top;

      tocbot.init({
        tocSelector: '#tocbot',
        contentSelector: '#post-body',
        headingSelector: 'h1,h2,h3,h4,h5,h6',
        linkClass: 'tocbot-link',
        activeLinkClass: 'tocbot-active-link',
        listClass: 'tocbot-list',
        isCollapsedClass: 'tocbot-is-collapsed',
        collapsibleClass: 'tocbot-is-collapsible',
        collapseDepth: 0,
        scrollSmooth: true,
        headingsOffset: -boardTop
      });
      if ($('.toc-list-item').length > 0) {
        $('#toc').css('visibility', 'visible');
      }
    });
  </script>



  <script  src="https://cdn.staticfile.org/typed.js/2.0.11/typed.min.js" ></script>
  <script>
    function typing(id, title){
        var typed = new Typed('#' + id, {
            strings: [
              '  ',
              title + "&nbsp;",
            ],
            cursorChar: "_",
            typeSpeed: 70,
            loop: false,
        });
        typed.stop();
        $(document).ready(function () {
            $(".typed-cursor").addClass("h2");
            typed.start();
        });
    }
    
        typing("subtitle", "Goå­¦ä¹ ä¹‹è·¯")
    
  </script>


  <script  src="https://cdn.staticfile.org/anchor-js/4.2.2/anchor.min.js" ></script>
  <script>
    anchors.options = {
      placement: "right",
      visible: "hover",
      
    };
    var el = "h1,h2,h3,h4,h5,h6".split(",");
    var res = [];
    for (item of el) {
      res.push(".markdown-body > " + item)
    }
    anchors.add(res.join(", "))
  </script>



  <script  src="/Wuhlan3/js/local-search.js" ></script>
  <script>
    var path = "/Wuhlan3/local-search.xml";
    var inputArea = document.querySelector("#local-search-input");
    inputArea.onclick = function () {
      searchFunc(path, 'local-search-input', 'local-search-result');
      this.onclick = null
    }
  </script>



  <script  src="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.staticfile.org/fancybox/3.5.7/jquery.fancybox.min.css" />

  <script>
    $('#post img:not(.no-zoom img, img[no-zoom]), img[zoom]').each(
      function () {
        var element = document.createElement('a');
        $(element).attr('data-fancybox', 'images');
        $(element).attr('href', $(this).attr('src'));
        $(this).wrap(element);
      }
    );
  </script>

















  

  

  

  

  

  





<script src="/Wuhlan3/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"jsonPath":"/Wuhlan3/live2dw/assets/assets/tororo.model.json"},"display":{"position":"right","width":150,"height":300,"hOffset":5,"vOffset":-60},"mobile":{"show":false},"react":{"opacity":1},"log":false});</script></body>
</html>
